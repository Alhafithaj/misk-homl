<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Linear Regression &amp; Cousins</title>
    <meta charset="utf-8" />
    <meta name="author" content="Misk Academy" />
    <link href="libs/font-awesome-animation/font-awesome-animation-emi.css" rel="stylesheet" />
    <script src="libs/fontawesome/js/fontawesome-all.min.js"></script>
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/plotly-binding/plotly.js"></script>
    <script src="libs/typedarray/typedarray.min.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="libs/plotly-main/plotly-latest.min.js"></script>
    <script src="libs/kePrint/kePrint.js"></script>
    <link rel="stylesheet" href="custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




class: clear, center, middle

background-image: url(https://educationalresearchtechniques.files.wordpress.com/2014/08/1.jpg?w=624)
background-position: center
background-size: cover

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
.font200.bold[Regression &amp; Cousins]

---
# Introduction

.pull-left[

.center.bold.font120[Thoughts]

- a fundamental analytic method
- still widely used
- basic approaches have large assumptions
- serves as a foundation to many extension methods

]

--

.pull-right[

.center.bold.font120[Overview]

- Ordinary Least Squares
- Principal Component Regression
- Partial Least Squares Regression

]

---
# Prereqs .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 1]

.pull-left[

.center.bold.font120[Packages]


```r
library(dplyr)
library(ggplot2)
library(rsample)
library(recipes)
library(vip)
library(caret)
```


]

.pull-right[

.center.bold.font120[Data]


```r
# ames data
ames &lt;- AmesHousing::make_ames()

# split data
set.seed(123)
split &lt;- initial_split(ames, strata = "Sale_Price")
ames_train &lt;- training(split)
```

]

---
# The Objective

&lt;img src="04-linear-regression-slides_files/figure-html/unnamed-chunk-1-1.png" style="display: block; margin: auto;" /&gt;


* Model form: `\(y_i = \beta_0 + \beta_{1}x_{i1} + \beta_{2}x_{i2} \cdots + \beta_{p}x_{ip} + \epsilon_i\)`

* Objective function: `\(\text{minimize} \bigg \{ SSE = \sum^n_{i=1} (y_i - \hat{y}_i)^2 \bigg \} \equiv \text{minimize MSE}\)`

---
# Simple linear regression .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 2]

.pull-left.font120[

- .bold.blue[`lm()`] performs OLS in base R

- `glm()` also performs linear regression but extends to other generalized methods (i.e. logistic regression)

- `summary(model)` provides many results (i.e. "Residual Standard Error" is the RMSE)

- No method for resampling (i.e. cross validation) with `lm()`

]

.pull-right[

```r
model1 &lt;- lm(Sale_Price ~ Gr_Liv_Area, data = ames_train)
summary(model1)
## 
## Call:
## lm(formula = Sale_Price ~ Gr_Liv_Area, data = ames_train)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -407824  -30437   -2006   22838  331807 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  9929.42    3769.58   2.634   0.0085 ** 
## Gr_Liv_Area   114.18       2.39  47.783   &lt;2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 55950 on 2197 degrees of freedom
## Multiple R-squared:  0.5096,	Adjusted R-squared:  0.5094 
## F-statistic:  2283 on 1 and 2197 DF,  p-value: &lt; 2.2e-16
```
]

---
# Multiple linear regression .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 3]

.pull-left[


```r
# OLS model with two predictors
model2 &lt;- lm(Sale_Price ~ Gr_Liv_Area + Year_Built, data = ames_train)

# OLS model with specified interactions
model3 &lt;- lm(Sale_Price ~ Gr_Liv_Area + Year_Built + Gr_Liv_Area : Year_Built, data = ames_train)

# include all possible main effects
model4 &lt;- lm(Sale_Price ~ ., data = ames_train)
```


]

.pull-right[
<div id="htmlwidget-dd0793774955b11088a2" style="width:504px;height:504px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-dd0793774955b11088a2">{"x":{"visdat":{"6def72e8e583":["function () ","plotlyVisDat"]},"cur_data":"6def72e8e583","attrs":{"6def72e8e583":{"x":{},"y":{},"z":{},"mode":"markers","marker":{"size":5,"opacity":0.25},"showlegend":false,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter3d"},"6def72e8e583.1":{"x":[334,384,434,484,534,584,634,684,734,784,834,884,934,984,1034,1084,1134,1184,1234,1284,1334,1384,1434,1484,1534,1584,1634,1684,1734,1784,1834,1884,1934,1984,2034,2084,2134,2184,2234,2284,2334,2384,2434,2484,2534,2584,2634,2684,2734,2784,2834,2884,2934,2984,3034,3084,3134,3184,3234,3284,3334,3384,3434,3484,3534,3584,3634,3684,3734,3784,3834,3884,3934,3984,4034,4084,4134,4184,4234,4284,4334,4384,4434,4484,4534,4584,4634,4684,4734,4784,4834,4884,4934,4984,5034,5084],"y":[1872,1882,1892,1902,1912,1922,1932,1942,1952,1962,1972,1982,1992,2002],"z":[[-39828.7123677144,-34916.9099023885,-30005.1074370628,-25093.3049717369,-20181.5025064112,-15269.7000410855,-10357.8975757596,-5446.09511043387,-534.292645107955,4377.50982021773,9289.31228554365,14201.1147508693,19112.917216195,24024.7196815209,28936.5221468466,33848.3246121726,38760.1270774982,43671.9295428242,48583.7320081498,53495.5344734755,58407.3369388015,63319.1394041271,68230.9418694531,73142.7443347787,78054.5468001047,82966.3492654304,87878.151730756,92789.954196082,97701.7566614076,102613.559126734,107525.361592059,112437.164057385,117348.966522711,122260.768988037,127172.571453362,132084.373918688,136996.176384014,141907.97884934,146819.781314666,151731.583779991,156643.386245317,161555.188710643,166466.991175969,171378.793641295,176290.59610662,181202.398571946,186114.201037272,191026.003502598,195937.805967923,200849.608433249,205761.410898575,210673.213363901,215585.015829227,220496.818294552,225408.620759878,230320.423225204,235232.22569053,240144.028155856,245055.830621181,249967.633086507,254879.435551833,259791.238017159,264703.040482485,269614.84294781,274526.645413136,279438.447878462,284350.250343788,289262.052809113,294173.855274439,299085.657739765,303997.460205091,308909.262670417,313821.065135742,318732.867601068,323644.670066394,328556.47253172,333468.274997046,338380.077462371,343291.879927697,348203.682393023,353115.484858349,358027.287323674,362939.089789,367850.892254326,372762.694719652,377674.497184978,382586.299650303,387498.102115629,392409.904580955,397321.707046281,402233.509511607,407145.311976932,412057.114442258,416968.916907584,421880.71937291,426792.521838235],[-29105.6297902553,-24193.8273249294,-19282.0248596037,-14370.2223942778,-9458.41992895212,-4546.61746362643,365.185001699487,5276.98746702517,10188.7899323511,15100.5923976768,20012.3948630027,24924.1973283284,29835.9997936541,34747.80225898,39659.6047243057,44571.4071896316,49483.2096549573,54395.0121202832,59306.8145856089,64218.6170509346,69130.4195162605,74042.2219815862,78954.0244469121,83865.8269122378,88777.6293775637,93689.4318428894,98601.2343082151,103513.036773541,108424.839238867,113336.641704193,118248.444169518,123160.246634844,128072.04910017,132983.851565496,137895.654030822,142807.456496147,147719.258961473,152631.061426799,157542.863892125,162454.66635745,167366.468822776,172278.271288102,177190.073753428,182101.876218754,187013.678684079,191925.481149405,196837.283614731,201749.086080057,206660.888545383,211572.691010708,216484.493476034,221396.29594136,226308.098406686,231219.900872011,236131.703337337,241043.505802663,245955.308267989,250867.110733315,255778.91319864,260690.715663966,265602.518129292,270514.320594618,275426.123059944,280337.925525269,285249.727990595,290161.530455921,295073.332921247,299985.135386572,304896.937851898,309808.740317224,314720.54278255,319632.345247876,324544.147713201,329455.950178527,334367.752643853,339279.555109179,344191.357574505,349103.16003983,354014.962505156,358926.764970482,363838.567435808,368750.369901133,373662.172366459,378573.974831785,383485.777297111,388397.579762437,393309.382227762,398221.184693088,403132.987158414,408044.78962374,412956.592089066,417868.394554391,422780.197019717,427691.999485043,432603.801950369,437515.604415694],[-18382.5472127963,-13470.7447474704,-8558.94228214468,-3647.13981681876,1264.66264850693,6176.46511383262,11088.2675791585,16000.0700444842,20911.8725098101,25823.6749751358,30735.4774404617,35647.2799057874,40559.0823711131,45470.884836439,50382.6873017647,55294.4897670907,60206.2922324163,65118.0946977423,70029.8971630679,74941.6996283936,79853.5020937196,84765.3045590452,89677.1070243712,94588.9094896968,99500.7119550228,104412.514420348,109324.316885674,114236.119351,119147.921816326,124059.724281652,128971.526746977,133883.329212303,138795.131677629,143706.934142955,148618.736608281,153530.539073606,158442.341538932,163354.144004258,168265.946469584,173177.748934909,178089.551400235,183001.353865561,187913.156330887,192824.958796213,197736.761261538,202648.563726864,207560.36619219,212472.168657516,217383.971122842,222295.773588167,227207.576053493,232119.378518819,237031.180984145,241942.98344947,246854.785914796,251766.588380122,256678.390845448,261590.193310774,266501.995776099,271413.798241425,276325.600706751,281237.403172077,286149.205637403,291061.008102728,295972.810568054,300884.61303338,305796.415498706,310708.217964032,315620.020429357,320531.822894683,325443.625360009,330355.427825335,335267.23029066,340179.032755986,345090.835221312,350002.637686638,354914.440151964,359826.242617289,364738.045082615,369649.847547941,374561.650013267,379473.452478593,384385.254943918,389297.057409244,394208.85987457,399120.662339896,404032.464805221,408944.267270547,413856.069735873,418767.872201199,423679.674666525,428591.47713185,433503.279597176,438415.082062502,443326.884527828,448238.686993154],[-7659.464635337,-2747.66217001108,2164.1402953146,7075.94276064052,11987.7452259662,16899.5476912919,21811.3501566178,26723.1526219435,31634.9550872694,36546.7575525951,41458.560017921,46370.3624832467,51282.1649485724,56193.9674138983,61105.769879224,66017.5723445499,70929.3748098756,75841.1772752015,80752.9797405272,85664.7822058529,90576.5846711788,95488.3871365045,100400.18960183,105311.992067156,110223.794532482,115135.596997808,120047.399463133,124959.201928459,129871.004393785,134782.806859111,139694.609324437,144606.411789762,149518.214255088,154430.016720414,159341.81918574,164253.621651066,169165.424116391,174077.226581717,178989.029047043,183900.831512369,188812.633977694,193724.43644302,198636.238908346,203548.041373672,208459.843838998,213371.646304323,218283.448769649,223195.251234975,228107.053700301,233018.856165627,237930.658630952,242842.461096278,247754.263561604,252666.06602693,257577.868492255,262489.670957581,267401.473422907,272313.275888233,277225.078353559,282136.880818884,287048.68328421,291960.485749536,296872.288214862,301784.090680188,306695.893145513,311607.695610839,316519.498076165,321431.300541491,326343.103006816,331254.905472142,336166.707937468,341078.510402794,345990.31286812,350902.115333445,355813.917798771,360725.720264097,365637.522729423,370549.325194749,375461.127660074,380372.9301254,385284.732590726,390196.535056052,395108.337521377,400020.139986703,404931.942452029,409843.744917355,414755.547382681,419667.349848006,424579.152313332,429490.954778658,434402.757243984,439314.55970931,444226.362174635,449138.164639961,454049.967105287,458961.769570613],[3063.61794212204,7975.42040744796,12887.2228727737,17799.0253380996,22710.8278034253,27622.6302687509,32534.4327340769,37446.2351994026,42358.0376647285,47269.8401300542,52181.6425953801,57093.4450607058,62005.2475260315,66917.0499913574,71828.8524566831,76740.654922009,81652.4573873347,86564.2598526606,91476.0623179863,96387.864783312,101299.667248638,106211.469713964,111123.272179289,116035.074644615,120946.877109941,125858.679575267,130770.482040592,135682.284505918,140594.086971244,145505.88943657,150417.691901896,155329.494367221,160241.296832547,165153.099297873,170064.901763199,174976.704228525,179888.506693851,184800.309159176,189712.111624502,194623.914089828,199535.716555153,204447.519020479,209359.321485805,214271.123951131,219182.926416457,224094.728881782,229006.531347108,233918.333812434,238830.13627776,243741.938743086,248653.741208411,253565.543673737,258477.346139063,263389.148604389,268300.951069715,273212.75353504,278124.556000366,283036.358465692,287948.160931018,292859.963396343,297771.765861669,302683.568326995,307595.370792321,312507.173257647,317418.975722972,322330.778188298,327242.580653624,332154.38311895,337066.185584276,341977.988049601,346889.790514927,351801.592980253,356713.395445579,361625.197910904,366537.00037623,371448.802841556,376360.605306882,381272.407772208,386184.210237533,391096.012702859,396007.815168185,400919.617633511,405831.420098837,410743.222564162,415655.025029488,420566.827494814,425478.62996014,430390.432425465,435302.234890791,440214.037356117,445125.839821443,450037.642286769,454949.444752094,459861.24721742,464773.049682746,469684.852148072],[13786.7005195811,18698.502984907,23610.3054502327,28522.1079155586,33433.9103808843,38345.71284621,43257.5153115359,48169.3177768616,53081.1202421875,57992.9227075132,62904.7251728391,67816.5276381648,72728.3301034905,77640.1325688164,82551.9350341421,87463.737499468,92375.5399647937,97287.3424301196,102199.144895445,107110.947360771,112022.749826097,116934.552291423,121846.354756749,126758.157222074,131669.9596874,136581.762152726,141493.564618052,146405.367083377,151317.169548703,156228.972014029,161140.774479355,166052.57694468,170964.379410006,175876.181875332,180787.984340658,185699.786805984,190611.58927131,195523.391736635,200435.194201961,205346.996667287,210258.799132613,215170.601597938,220082.404063264,224994.20652859,229906.008993916,234817.811459241,239729.613924567,244641.416389893,249553.218855219,254465.021320545,259376.82378587,264288.626251196,269200.428716522,274112.231181848,279024.033647174,283935.836112499,288847.638577825,293759.441043151,298671.243508477,303583.045973802,308494.848439128,313406.650904454,318318.45336978,323230.255835106,328142.058300431,333053.860765757,337965.663231083,342877.465696409,347789.268161735,352701.07062706,357612.873092386,362524.675557712,367436.478023038,372348.280488363,377260.082953689,382171.885419015,387083.687884341,391995.490349667,396907.292814992,401819.095280318,406730.897745644,411642.70021097,416554.502676296,421466.305141622,426378.107606947,431289.910072273,436201.712537599,441113.515002924,446025.31746825,450937.119933576,455848.922398902,460760.724864228,465672.527329553,470584.329794879,475496.132260205,480407.934725531],[24509.7830970401,29421.5855623661,34333.3880276917,39245.1904930177,44156.9929583434,49068.795423669,53980.597888995,58892.4003543206,63804.2028196466,68716.0052849723,73627.8077502982,78539.6102156239,83451.4126809496,88363.2151462755,93275.0176116012,98186.8200769271,103098.622542253,108010.425007579,112922.227472904,117834.02993823,122745.832403556,127657.634868882,132569.437334208,137481.239799533,142393.042264859,147304.844730185,152216.647195511,157128.449660836,162040.252126162,166952.054591488,171863.857056814,176775.659522139,181687.461987465,186599.264452791,191511.066918117,196422.869383443,201334.671848769,206246.474314094,211158.27677942,216070.079244746,220981.881710072,225893.684175398,230805.486640723,235717.289106049,240629.091571375,245540.8940367,250452.696502026,255364.498967352,260276.301432678,265188.103898004,270099.906363329,275011.708828655,279923.511293981,284835.313759307,289747.116224633,294658.918689959,299570.721155284,304482.52362061,309394.326085936,314306.128551261,319217.931016587,324129.733481913,329041.535947239,333953.338412565,338865.14087789,343776.943343216,348688.745808542,353600.548273868,358512.350739194,363424.15320452,368335.955669845,373247.758135171,378159.560600497,383071.363065823,387983.165531148,392894.967996474,397806.7704618,402718.572927126,407630.375392451,412542.177857777,417453.980323103,422365.782788429,427277.585253755,432189.387719081,437101.190184406,442012.992649732,446924.795115058,451836.597580384,456748.400045709,461660.202511035,466572.004976361,471483.807441687,476395.609907012,481307.412372338,486219.214837664,491131.01730299],[35232.8656744992,40144.6681398251,45056.4706051508,49968.2730704767,54880.0755358024,59791.8780011281,64703.680466454,69615.4829317797,74527.2853971056,79439.0878624313,84350.8903277572,89262.6927930829,94174.4952584086,99086.2977237345,103998.10018906,108909.902654386,113821.705119712,118733.507585038,123645.310050363,128557.112515689,133468.914981015,138380.717446341,143292.519911667,148204.322376992,153116.124842318,158027.927307644,162939.72977297,167851.532238296,172763.334703621,177675.137168947,182586.939634273,187498.742099599,192410.544564924,197322.34703025,202234.149495576,207145.951960902,212057.754426228,216969.556891553,221881.359356879,226793.161822205,231704.964287531,236616.766752857,241528.569218182,246440.371683508,251352.174148834,256263.97661416,261175.779079485,266087.581544811,270999.384010137,275911.186475463,280822.988940788,285734.791406114,290646.59387144,295558.396336766,300470.198802092,305382.001267418,310293.803732743,315205.606198069,320117.408663395,325029.211128721,329941.013594046,334852.816059372,339764.618524698,344676.420990024,349588.223455349,354500.025920675,359411.828386001,364323.630851327,369235.433316653,374147.235781979,379059.038247304,383970.84071263,388882.643177956,393794.445643282,398706.248108607,403618.050573933,408529.853039259,413441.655504585,418353.45796991,423265.260435236,428177.062900562,433088.865365888,438000.667831214,442912.47029654,447824.272761865,452736.075227191,457647.877692517,462559.680157843,467471.482623169,472383.285088494,477295.08755382,482206.890019146,487118.692484471,492030.494949797,496942.297415123,501854.099880449],[45955.9482519582,50867.7507172842,55779.5531826098,60691.3556479358,65603.1581132615,70514.9605785871,75426.7630439131,80338.5655092387,85250.3679745647,90162.1704398904,95073.9729052163,99985.775370542,104897.577835868,109809.380301194,114721.182766519,119632.985231845,124544.787697171,129456.590162497,134368.392627822,139280.195093148,144191.997558474,149103.8000238,154015.602489126,158927.404954451,163839.207419777,168751.009885103,173662.812350429,178574.614815755,183486.41728108,188398.219746406,193310.022211732,198221.824677058,203133.627142383,208045.429607709,212957.232073035,217869.034538361,222780.837003687,227692.639469012,232604.441934338,237516.244399664,242428.04686499,247339.849330316,252251.651795641,257163.454260967,262075.256726293,266987.059191619,271898.861656945,276810.66412227,281722.466587596,286634.269052922,291546.071518247,296457.873983573,301369.676448899,306281.478914225,311193.281379551,316105.083844877,321016.886310202,325928.688775528,330840.491240854,335752.29370618,340664.096171506,345575.898636831,350487.701102157,355399.503567483,360311.306032808,365223.108498134,370134.91096346,375046.713428786,379958.515894112,384870.318359438,389782.120824763,394693.923290089,399605.725755415,404517.528220741,409429.330686067,414341.133151392,419252.935616718,424164.738082044,429076.54054737,433988.343012695,438900.145478021,443811.947943347,448723.750408673,453635.552873999,458547.355339324,463459.15780465,468370.960269976,473282.762735302,478194.565200628,483106.367665953,488018.170131279,492929.972596605,497841.775061931,502753.577527256,507665.379992582,512577.182457908],[56679.0308294173,61590.8332947432,66502.6357600689,71414.4382253948,76326.2406907205,81238.0431560462,86149.8456213721,91061.6480866978,95973.4505520237,100885.253017349,105797.055482675,110708.857948001,115620.660413327,120532.462878653,125444.265343978,130356.067809304,135267.87027463,140179.672739956,145091.475205282,150003.277670607,154915.080135933,159826.882601259,164738.685066585,169650.48753191,174562.289997236,179474.092462562,184385.894927888,189297.697393214,194209.499858539,199121.302323865,204033.104789191,208944.907254517,213856.709719843,218768.512185168,223680.314650494,228592.11711582,233503.919581146,238415.722046471,243327.524511797,248239.326977123,253151.129442449,258062.931907775,262974.7343731,267886.536838426,272798.339303752,277710.141769078,282621.944234404,287533.746699729,292445.549165055,297357.351630381,302269.154095707,307180.956561032,312092.759026358,317004.561491684,321916.36395701,326828.166422336,331739.968887661,336651.771352987,341563.573818313,346475.376283639,351387.178748965,356298.98121429,361210.783679616,366122.586144942,371034.388610268,375946.191075593,380857.993540919,385769.796006245,390681.598471571,395593.400936897,400505.203402222,405417.005867548,410328.808332874,415240.6107982,420152.413263526,425064.215728851,429976.018194177,434887.820659503,439799.623124829,444711.425590154,449623.22805548,454535.030520806,459446.832986132,464358.635451458,469270.437916783,474182.240382109,479094.042847435,484005.845312761,488917.647778087,493829.450243412,498741.252708738,503653.055174064,508564.85763939,513476.660104715,518388.462570041,523300.265035367],[67402.1134068763,72313.9158722023,77225.7183375279,82137.5208028539,87049.3232681795,91961.1257335052,96872.9281988312,101784.730664157,106696.533129483,111608.335594808,116520.138060134,121431.94052546,126343.742990786,131255.545456112,136167.347921437,141079.150386763,145990.952852089,150902.755317415,155814.557782741,160726.360248066,165638.162713392,170549.965178718,175461.767644044,180373.570109369,185285.372574695,190197.175040021,195108.977505347,200020.779970673,204932.582435998,209844.384901324,214756.18736665,219667.989831976,224579.792297302,229491.594762627,234403.397227953,239315.199693279,244227.002158605,249138.80462393,254050.607089256,258962.409554582,263874.212019908,268786.014485234,273697.816950559,278609.619415885,283521.421881211,288433.224346537,293345.026811863,298256.829277188,303168.631742514,308080.43420784,312992.236673166,317904.039138491,322815.841603817,327727.644069143,332639.446534469,337551.248999795,342463.05146512,347374.853930446,352286.656395772,357198.458861098,362110.261326424,367022.063791749,371933.866257075,376845.668722401,381757.471187727,386669.273653053,391581.076118378,396492.878583704,401404.68104903,406316.483514356,411228.285979681,416140.088445007,421051.890910333,425963.693375659,430875.495840985,435787.29830631,440699.100771636,445610.903236962,450522.705702288,455434.508167614,460346.310632939,465258.113098265,470169.915563591,475081.718028917,479993.520494242,484905.322959568,489817.125424894,494728.92789022,499640.730355546,504552.532820871,509464.335286197,514376.137751523,519287.940216849,524199.742682175,529111.5451475,534023.347612826],[78125.1959843354,83036.9984496613,87948.800914987,92860.6033803129,97772.4058456386,102684.208310964,107596.01077629,112507.813241616,117419.615706942,122331.418172267,127243.220637593,132155.023102919,137066.825568245,141978.628033571,146890.430498896,151802.232964222,156714.035429548,161625.837894874,166537.6403602,171449.442825525,176361.245290851,181273.047756177,186184.850221503,191096.652686829,196008.455152154,200920.25761748,205832.060082806,210743.862548132,215655.665013457,220567.467478783,225479.269944109,230391.072409435,235302.874874761,240214.677340086,245126.479805412,250038.282270738,254950.084736064,259861.88720139,264773.689666715,269685.492132041,274597.294597367,279509.097062693,284420.899528018,289332.701993344,294244.50445867,299156.306923996,304068.109389322,308979.911854647,313891.714319973,318803.516785299,323715.319250625,328627.121715951,333538.924181276,338450.726646602,343362.529111928,348274.331577254,353186.134042579,358097.936507905,363009.738973231,367921.541438557,372833.343903883,377745.146369208,382656.948834534,387568.75129986,392480.553765186,397392.356230512,402304.158695837,407215.961161163,412127.763626489,417039.566091815,421951.36855714,426863.171022466,431774.973487792,436686.775953118,441598.578418444,446510.380883769,451422.183349095,456333.985814421,461245.788279747,466157.590745073,471069.393210398,475981.195675724,480892.99814105,485804.800606376,490716.603071701,495628.405537027,500540.208002353,505452.010467679,510363.812933005,515275.61539833,520187.417863656,525099.220328982,530011.022794308,534922.825259634,539834.627724959,544746.430190285],[88848.2785617944,93760.0810271204,98671.883492446,103583.685957772,108495.488423098,113407.290888423,118319.093353749,123230.895819075,128142.698284401,133054.500749727,137966.303215052,142878.105680378,147789.908145704,152701.71061103,157613.513076355,162525.315541681,167437.118007007,172348.920472333,177260.722937659,182172.525402984,187084.32786831,191996.130333636,196907.932798962,201819.735264288,206731.537729613,211643.340194939,216555.142660265,221466.945125591,226378.747590916,231290.550056242,236202.352521568,241114.154986894,246025.95745222,250937.759917545,255849.562382871,260761.364848197,265673.167313523,270584.969778849,275496.772244174,280408.5747095,285320.377174826,290232.179640152,295143.982105477,300055.784570803,304967.587036129,309879.389501455,314791.191966781,319702.994432106,324614.796897432,329526.599362758,334438.401828084,339350.20429341,344262.006758736,349173.809224061,354085.611689387,358997.414154713,363909.216620038,368821.019085364,373732.82155069,378644.624016016,383556.426481342,388468.228946667,393380.031411993,398291.833877319,403203.636342645,408115.438807971,413027.241273297,417939.043738622,422850.846203948,427762.648669274,432674.4511346,437586.253599925,442498.056065251,447409.858530577,452321.660995903,457233.463461228,462145.265926554,467057.06839188,471968.870857206,476880.673322532,481792.475787858,486704.278253183,491616.080718509,496527.883183835,501439.685649161,506351.488114486,511263.290579812,516175.093045138,521086.895510464,525998.697975789,530910.500441115,535822.302906441,540734.105371767,545645.907837093,550557.710302418,555469.512767744],[99571.3611392535,104483.163604579,109394.966069905,114306.768535231,119218.571000557,124130.373465882,129042.175931208,133953.978396534,138865.78086186,143777.583327186,148689.385792512,153601.188257837,158512.990723163,163424.793188489,168336.595653814,173248.39811914,178160.200584466,183072.003049792,187983.805515118,192895.607980443,197807.410445769,202719.212911095,207631.015376421,212542.817841747,217454.620307073,222366.422772398,227278.225237724,232190.02770305,237101.830168376,242013.632633701,246925.435099027,251837.237564353,256749.040029679,261660.842495004,266572.64496033,271484.447425656,276396.249890982,281308.052356308,286219.854821634,291131.657286959,296043.459752285,300955.262217611,305867.064682937,310778.867148262,315690.669613588,320602.472078914,325514.27454424,330426.077009565,335337.879474891,340249.681940217,345161.484405543,350073.286870869,354985.089336195,359896.89180152,364808.694266846,369720.496732172,374632.299197498,379544.101662823,384455.904128149,389367.706593475,394279.509058801,399191.311524126,404103.113989452,409014.916454778,413926.718920104,418838.52138543,423750.323850756,428662.126316081,433573.928781407,438485.731246733,443397.533712059,448309.336177384,453221.13864271,458132.941108036,463044.743573362,467956.546038687,472868.348504013,477780.150969339,482691.953434665,487603.755899991,492515.558365317,497427.360830642,502339.163295968,507250.965761294,512162.76822662,517074.570691945,521986.373157271,526898.175622597,531809.978087923,536721.780553248,541633.583018574,546545.3854839,551457.187949226,556368.990414552,561280.792879877,566192.595345203]],"mode":"markers","marker":{"size":5,"opacity":0.25},"showlegend":false,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"surface","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"Gr_Liv_Area"},"yaxis":{"title":"Year_Built"},"zaxis":{"title":"Sale_Price"}},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[1656,896,1329,1629,1604,1338,1280,1616,1655,1465,1341,1502,3279,1752,864,2073,1844,1173,1674,1004,1078,1056,882,864,1337,987,1092,1069,1456,836,1456,2334,1544,1698,1822,1535,2364,1358,2696,1752,1370,1626,1145,1374,1960,1733,2035,2599,2475,1720,2622,2270,1839,3238,1547,1566,1947,1468,2084,1659,2110,1845,918,752,1744,1097,1564,1012,1902,1040,1494,1923,2349,2225,1488,1680,1200,1200,1200,1478,1573,1512,1416,1080,1418,788,1226,1479,1492,2495,1610,1381,1645,1232,1328,1225,1209,1152,1054,1728,2461,1556,858,1306,1063,1520,1268,2274,1888,1314,1188,1580,1337,972,1057,985,1086,936,1458,1056,1287,2978,1246,1385,900,1116,1175,1839,1844,1140,936,1028,1347,1605,804,1316,1251,1633,1245,1566,2268,1236,1363,2290,1470,1612,2068,765,1132,1196,1453,1416,1040,1536,1068,1962,1324,816,1812,2403,1675,1392,1884,1680,1832,1768,1039,1392,912,1060,892,864,1440,1386,1483,756,1067,1524,1981,1610,835,1074,1531,1172,1212,1508,930,1732,1433,1802,996,1226,3222,1445,1052,965,1692,1682,1026,876,1601,1829,2098,1661,848,1668,1484,1414,640,992,1120,1117,960,1121,1487,924,1526,1296,1647,864,1691,2650,2177,2340,1652,1034,1191,540,1107,1128,1916,1034,2048,1346,1214,1444,1894,1908,1824,1344,1092,945,1112,1092,630,1092,1092,874,833,2432,1274,1803,882,1434,1608,2283,1628,1746,2522,1659,1478,1734,1382,1718,1636,1571,1470,1516,1593,1481,1167,1360,2234,2046,1530,1934,1586,1411,1602,2050,1671,2673,1472,1707,2524,1601,1370,1868,1884,1874,1811,1621,1116,1193,1350,2119,1792,1026,1180,864,864,864,864,864,987,1365,1302,987,1302,958,1548,1055,1322,1456,1548,892,1718,2772,1652,1600,2042,2690,2184,2296,2674,2822,1736,1717,1743,1713,1531,1808,2224,1836,1760,1502,2392,2452,2400,1606,1358,1306,1358,1314,2492,2200,1884,1456,1712,1324,1405,1626,1456,1490,1484,1555,1569,1555,1145,2267,1630,1419,1314,2256,2004,2054,1374,1800,1514,1430,2312,2060,1430,2794,2687,2450,2612,2344,2063,2646,2061,2448,1850,1696,1658,1578,1432,1971,2490,1852,1590,1402,1530,1766,1448,2007,1795,1550,1836,1553,1141,1158,1812,1512,1200,1114,1114,1450,2122,1844,1434,1730,1217,1332,1540,1400,784,980,864,1020,1144,864,912,2014,1755,3005,1224,1726,1256,1471,1512,1739,1694,1226,1740,2499,1620,1556,1442,1489,2090,2067,1395,2640,1724,1216,2288,1680,1665,1568,1320,1342,894,864,1362,1776,1313,1292,1154,1445,1576,960,708,1203,1644,1050,1668,1113,1584,1453,1394,1567,1986,2142,1738,1478,1329,988,1632,1215,1382,1200,1382,1866,1062,1319,1112,1005,1363,1031,1210,1527,1200,972,792,1352,1039,792,1078,2377,1690,599,1374,846,2544,1380,1040,2634,951,1105,1306,1478,1268,1133,1904,1041,1339,732,1183,1148,1461,1806,1230,1378,1944,1306,1558,1701,1960,1389,1447,936,1328,1387,861,612,968,886,1284,2138,2640,2007,1288,1742,816,1022,1521,720,797,1576,1432,1548,1654,952,1324,1176,1348,1142,904,1301,1539,995,1072,2134,2019,1768,1944,2229,1930,1208,1427,1864,1666,892,704,1200,1200,1152,904,1369,1121,1052,899,1034,858,860,1092,1138,1788,1473,1229,1733,1383,1689,1073,1276,1639,845,1049,1716,1258,1510,1061,1338,2132,2196,1775,1879,2020,2016,1535,1224,2228,2240,1229,1513,2787,1680,1718,1468,1768,1838,1800,1604,1290,1254,1232,1759,2126,1040,1463,1097,990,1501,1431,1660,1573,1840,1430,1492,1040,907,914,1268,864,894,768,768,1611,2184,1788,1872,2153,1725,1870,1504,1417,2034,1716,1212,1630,848,848,1602,1500,1126,1922,1149,1125,1698,1072,698,876,1368,944,1560,960,1196,1298,1520,1489,1242,1232,1608,1228,2080,1567,1494,1308,1273,964,1343,1112,1564,1561,1523,1152,1906,1032,1229,1229,1680,1344,2168,1526,1648,810,2149,1961,926,1287,1734,1217,2036,1620,1692,1641,1466,1412,1479,1296,1978,1008,1771,1204,988,630,1404,630,1344,1092,796,833,883,1362,1287,1567,1414,2117,1604,1470,1604,1638,1384,1446,1593,1337,1604,1633,1658,1895,1709,1228,1337,1884,1474,1710,1488,2093,1422,1782,1211,1126,2044,1308,2840,1523,1444,1964,1178,2340,1792,1054,936,864,987,987,987,987,987,1302,1069,1456,1055,892,1932,2332,2084,1582,2464,1950,2748,2088,2668,2046,1575,2649,1866,1702,1518,1684,1800,1342,1342,1626,1626,1358,1455,1576,1504,1246,1515,1593,1166,1456,1720,1792,1490,1414,2322,1651,2199,2630,2198,2172,2125,2501,2418,2127,1987,1580,1933,1574,1506,1563,1428,1861,1874,1460,1372,1372,1428,1768,1992,1958,2078,1665,1660,1218,1728,1696,1175,1162,1609,1680,1679,1657,1677,1294,1617,1199,984,912,864,890,864,912,2786,1391,1250,1245,1200,1392,1392,1501,1549,1638,1419,1557,1709,1252,1404,1789,1607,1239,1719,1232,2944,1671,1812,1427,1740,1258,1620,1625,2614,1464,912,1728,1670,2715,1876,999,1978,952,1165,1136,1092,1265,1350,1114,1053,1100,1077,906,1496,1252,1661,1036,1820,1362,1537,1431,1098,1144,1283,1176,1570,1196,1104,1152,950,1790,773,1764,1824,1558,672,1294,1716,1044,1312,1081,876,1048,1507,1256,1027,1320,832,1278,1800,1588,1796,1611,1117,764,1539,1323,1360,672,1594,2082,1436,899,1080,789,1122,1499,407,928,1588,3493,1627,1416,1344,1017,2350,2058,1540,1484,2358,1111,2775,1086,1795,882,1093,1668,1738,784,1210,1290,1672,949,1158,1497,1342,1216,1136,808,1573,2009,1902,1362,1285,1848,1820,1716,838,1984,1666,1536,1969,1040,1236,1406,825,1198,759,1469,1054,1211,1588,1075,1040,1096,904,992,1034,1073,1126,1258,1006,1228,960,1188,1383,1252,672,1350,904,1291,2022,1524,1663,1357,1079,2358,1518,1674,1509,864,1269,1367,1347,1164,1096,1111,2329,2814,1626,2200,1356,1615,2276,1643,1688,990,1099,990,1418,1771,1790,1724,1479,1792,1823,985,1174,1026,1076,1558,924,1795,1865,2161,1852,2031,2263,1947,1786,1768,2327,1640,1764,1908,848,1493,1838,1536,1710,1445,1436,1234,1564,1456,848,848,848,848,796,2200,1092,1256,1033,1127,996,1181,1656,1398,1072,1152,1152,1440,784,1053,1137,930,1200,1393,1204,1292,864,864,1716,1482,1694,1424,1964,2601,1316,2555,1680,790,1512,1603,1660,1938,1091,1873,3447,2161,1640,1032,1556,919,1090,796,778,1200,1656,912,1955,733,1361,1317,1049,894,864,1652,1648,1646,2032,1820,1118,1279,1786,1501,1537,1646,1780,1442,1394,1256,1509,1440,2262,1728,1964,1344,1344,1189,1200,1040,1304,1475,988,630,988,816,923,816,845,1750,1968,1836,1277,2223,2217,1572,1470,1600,1652,1714,1553,1253,2299,1472,1088,2090,1179,1321,1922,2541,2338,1424,1612,1419,2234,2042,1284,1868,1479,1930,1725,1353,1220,1484,1743,1935,1324,1877,981,1479,1422,914,950,872,858,864,767,1337,1337,1218,1548,1055,988,1828,1694,1694,2122,2121,2656,2550,2172,2552,1973,2643,1976,2758,2152,2473,2100,2161,1802,2956,2468,2385,2374,1818,1614,1828,1362,1302,1362,1577,1561,1869,1324,1405,1496,1746,1456,1302,1340,1504,1456,1258,1402,1589,1530,1119,1374,1525,1720,1948,1690,1995,1647,1430,1320,1690,1644,4476,2551,2285,3078,2385,4316,2013,2398,2531,3228,1369,1542,1905,1534,1966,1795,1528,1496,1506,1694,1977,1830,1338,1792,1588,1880,1584,1685,2443,2466,1100,1094,1721,1820,1349,1494,1575,1266,2020,894,970,1120,1040,988,902,1037,1701,2810,2872,1378,1151,1565,1352,1550,1241,1250,1501,1458,1512,1573,1102,1441,1950,1358,2048,2362,1494,2362,1432,1437,1295,1855,1262,2497,1929,1152,2411,1082,1295,1594,2075,1680,1093,1242,1052,1107,1214,1073,1344,1728,1224,1422,958,1065,1138,912,1074,882,1187,964,894,1200,1042,1374,1429,1327,1224,932,908,334,666,670,808,1977,1150,1920,1376,1644,1280,1254,936,1053,1056,1056,1048,1657,1411,1216,1154,1560,948,1040,1008,1360,1540,925,928,1647,924,893,3086,1034,1281,968,691,1651,888,924,1082,988,864,1134,1170,1242,1377,1800,925,1851,1812,936,960,1432,1296,967,1047,1072,1174,1183,1131,1141,960,1798,968,1772,1472,1232,2337,1650,2210,1358,2454,2291,1616,2554,1248,968,1382,1060,1167,1635,1274,1232,1218,884,1409,1322,1281,1513,854,1367,986,2264,1824,1376,1316,1344,2526,1173,1214,1108,2294,1952,2180,1315,1111,1196,1382,1889,840,2267,3086,1134,1282,999,1452,1029,1020,1040,948,868,943,955,1285,912,1375,2654,1416,1302,1299,1176,998,1824,1522,1325,1630,1242,2422,2158,1626,864,605,1038,1342,1480,1822,1442,2730,2127,1982,2696,2828,1651,2140,1494,1651,1274,1456,1546,1500,1270,1795,1314,2144,1953,2087,1743,1022,990,1200,1308,990,1097,990,1786,1690,1479,1668,894,1009,1040,879,882,969,2169,1932,1729,2452,1592,2439,1992,1668,2090,848,1928,1337,1476,1797,1422,1190,1330,1214,936,1088,960,1351,1179,816,1044,1113,1125,1090,1408,5095,4676,1072,960,1152,948,865,894,1346,768,948,3395,2592,1502,789,1422,1298,1098,1436,1426,1461,1646,694,1250,1958,1718,2624,1991,2727,2320,1839,1740,1488,1045,1680,1020,1696,2515,2726,1517,1215,1123,1828,816,1012,1077,1558,845,1073,1001,1625,1299,912,1080,1392,1409,918,1501,1502,2279,1689,1484,1571,1240,1756,1312,1146,1922,1491,1629,1572,1776,1824,2482,1120,2034,936,1040,1622,1060,1142,992,1092,1092,630,1092,1062,1356,1676,1432,796,845,816,816,974,887,1024,1797,1390,1851,1525,2236,1671,1498,1776,1511,2462,1670,1801,2212,2021,2687,1169,1501,1632,1204,1767,1742,2798,3390,2473,2576,2698,2945,2320,1056,1826,2000,2263,1872,1686,1083,2318,1875,1074,1664,1309,1103,1096,864,1419,1365,1218,1218,948,1069,1387,900,1055,1456,2589,1618,2076,1740,1868,1850,2376,2452,2206,2098,2091,2324,2358,1944,1970,1780,1792,2728,1914,1364,1565,1368,1686,1405,1316,1496,1326,1456,2373,1364,1456,1414,1548,1142,1500,1838,1509,1598,1509,1664,1889,1886,1671,2322,2392,1976,2234,1924,2263,3500,2494,2526,2799,1964,1670,2097,1660,1616,1504,1278,2640,1489,1939,1553,1716,1576,1266,1301,1142,1400,1131,1141,1158,1603,1731,1398,1320,1056,965,1654,1211,1212,984,925,1024,912,1236,941,2417,2826,2520,2295,1624,1143,1247,1223,1223,1524,1452,1382,1080,1694,1494,1208,1235,1036,1226,1226,1842,1193,1920,1416,1790,1164,980,1770,976,1052,1200,1993,864,1712,1565,1251,1488,1440,1053,1008,1043,1230,869,747,1433,1624,1216,2136,1578,1728,936,1584,1235,1128,3112,1008,1144,1383,1336,1370,1092,1124,1236,943,1050,1375,1008,1575,1005,1056,884,2039,1384,1310,713,1073,715,720,1595,1760,1214,2414,1466,1324,1086,1207,912,1194,864,1472,2448,1600,1521,1040,1040,1040,1040,1040,1150,1348,1045,864,1025,2014,1328,1668,1657,1416,1641,1428,1004,1951,1032,864,1118,1376,960,1566,492,1182,1163,840,1774,1768,2104,1440,1690,1368,3608,1248,960,1020,788,1827,1344,1162,912,1324,1103,1048,816,2486,960,1635,693,1430,1330,1376,1360,754,1422,1921,1640,1352,1032,879,1073,1296,1064,934,1059,1400,1458,1040,1949,1920,1803,872,1437,1000,810,894,1150,2201,2009,1488,1855,1609,1148,1124,1456,1298,2559,1911,1440,1614,1962,1846,1734,1590,1809,1614,1915,1582,988,1533,1388,1499,1425,1494,1588,1749,1779,1861,1776,1541,954,1388,971,864,894,864,1320,1989,1762,1358,1787,1909,2214,2049,1939,2097,1836,848,1919,1390,1700,1737,1611,1552,1500,1456,1310,1436,1220,1012,980,1176,1724,914,2314,1072,1072,1709,1709,1709,936,1338,1184,1221,1482,1250,1414,2230,498,1273,1595,1551,1340,1479,1784,1510,1522,1636,1465,1717,1550,1517,1717,2057,1671,2345,1609,1801,1336,1844,976,1285,672,641,1638,1336,729,480,1396,936,1625,1664,1004,1210,1959,2519,1295,1650,1707,1339,2514,1403,1800,1960,2028,1838,1600,1368,1216,1337,1304,1475,2521,874,630,1092,1360,1092,1092,1092,1728,1728,1126,1224,1003,902,970,1389,2000],"y":[1960,1961,1958,1997,1998,2001,1992,1995,1993,1998,1990,1985,2003,1988,1951,1978,1977,1974,2000,1970,1971,1968,1970,1971,1999,1971,1971,1977,1975,1975,1978,2009,2009,2005,2005,2004,2009,2009,2003,2005,2006,2003,2006,2004,2002,2004,2001,1999,1998,1996,1994,1999,1998,1995,2009,2008,2004,2005,2004,2004,1994,1992,1979,1984,1993,1984,1980,1920,1978,1963,1974,1992,1993,1992,2004,2004,2004,2004,2004,2009,2000,2000,1999,2003,2010,1980,1978,1976,2002,1993,1977,1972,1971,1966,1963,1959,1966,1964,1963,1962,1952,1949,1958,1940,1954,1955,1954,1960,1966,1957,1959,1959,1956,1955,1953,1920,1954,1956,1948,1980,1959,1967,1959,1952,1951,1962,1960,1966,1900,1910,1920,1927,1957,1915,1940,1929,1938,1948,1920,1900,1890,1957,1910,1885,1922,1950,1922,1925,1939,1940,1942,1948,1936,1930,1923,1915,1920,1963,1900,1940,1959,1915,1907,1910,1967,1968,1965,1957,1967,1968,1966,1968,1968,1978,1977,1927,1950,1979,1978,1938,1920,1950,1947,1954,2009,2009,1946,1985,1987,1993,1992,2009,1990,1900,1971,1996,1997,1998,1977,1972,2001,2003,1997,1998,2003,2003,2004,2004,1945,1954,1948,1976,1958,2003,1945,1941,1957,1924,1915,1914,1924,1967,1950,1941,1994,1989,1989,1941,1921,1920,1998,1976,1976,2008,2009,2006,2002,2002,1971,1999,1973,1973,1976,1970,1972,1970,1972,1971,1984,1985,1991,1994,1956,1974,1997,2003,1996,2006,2004,2000,1998,1995,1998,1998,1998,1993,1993,1994,1992,1994,1992,1984,2008,2008,2005,1977,1979,1977,1977,1978,1978,1980,1980,1978,1981,1978,1976,1976,2003,2000,2002,1975,1974,1975,1974,1972,1974,1969,1970,1970,1970,1970,1971,1971,1973,1970,1971,1972,1972,1976,1976,1975,1974,1977,1978,1967,2006,2007,2006,2007,2008,2009,2008,2008,2007,2008,2008,2006,2008,2004,2006,2008,2004,2004,2003,2009,2003,2003,2003,2006,2005,2005,2007,2007,2004,2003,2008,2008,2002,2006,2003,2003,2005,2005,2005,2007,2007,2005,2005,2002,2004,2002,2007,2000,2002,2000,2004,2000,2000,1999,1999,1999,1999,1995,2000,1998,1998,1996,1994,1993,1995,1994,1994,2008,2008,2008,2006,2005,2005,2009,2008,2008,2007,2009,2006,2008,2006,2006,2008,2003,2006,2004,2004,2004,2003,2004,2003,2008,1996,2005,2001,1992,1980,1990,1994,1986,1928,1977,1961,1965,1961,1965,1962,1980,1991,2004,2009,2008,2008,1999,2000,1999,1977,1981,1981,1976,1976,1968,1970,1968,1973,1974,1972,1967,1967,1969,1977,1998,2001,1967,1971,1967,1960,1959,1957,1958,1961,1964,1966,1964,1961,1955,1940,1950,1953,1956,1950,1950,1967,1961,1963,1966,1965,1968,1920,1957,1960,1959,1958,1958,1955,1956,1962,1958,1954,1953,1951,1955,1951,1952,1953,1948,1950,1948,1958,1939,1900,1924,1925,1915,1910,1940,1920,1920,1969,1963,1967,1969,1958,1957,1957,1960,1949,1950,1950,1958,1958,1952,1959,1959,1949,1964,1910,1935,1910,1910,1939,1920,1952,1946,1910,1953,1950,1954,1920,1940,1910,1938,1947,1898,1880,1900,1917,1882,1910,1910,1910,1920,1900,1923,1923,1925,1930,1916,1936,1937,1925,1924,1926,1924,1936,1925,1925,1916,1910,1915,1915,1912,1927,1925,1915,1902,1927,1923,1946,1987,1987,1978,1922,1925,1963,1967,1967,1978,1982,1982,1962,1960,1957,1968,1956,1955,1954,1956,1956,1958,1946,1957,1984,1949,1939,1940,1990,1983,1983,1990,1993,1993,1995,1880,1979,1979,1979,1979,1979,1979,2000,2009,2007,2008,2007,2007,2007,2006,2007,2008,2007,1992,1967,1996,1998,1994,1994,1999,1999,2002,2002,2001,2001,2001,1978,1978,1979,1977,1972,1972,1972,1972,2002,2003,2001,2001,2000,2002,2001,1996,1997,1997,1996,2001,2000,2003,2003,2007,2004,1949,2003,1960,1976,2007,2005,1947,1959,1950,1952,1956,1956,1920,1941,1932,1940,1935,1916,1925,1918,1926,1940,1942,1940,1960,1921,1921,1954,1941,1960,1949,1950,1954,1980,1980,1980,1988,1920,1900,1915,2007,1910,2003,2001,1977,1977,1977,1990,1965,2007,2009,2008,2007,1988,1987,2001,2007,1968,1960,1998,1973,1970,1969,1970,1970,1970,1972,1985,1992,1993,1992,1977,1958,1970,1997,1995,1998,1998,1996,1996,2001,1993,1997,1998,1995,1994,1991,1988,1989,2004,1952,2007,1950,1986,1981,1979,1976,1977,1980,1969,1978,1976,1976,1976,1973,1996,1974,1969,1969,1971,1973,1973,1972,1970,1971,1972,1977,1975,1977,1966,2008,2007,2007,2007,2007,2007,2006,2007,2003,2003,2003,2001,2008,2008,2003,2005,2007,2006,2006,2003,2003,2004,2003,2004,2005,2007,2004,2004,2005,2005,2002,2000,2004,2002,1999,1999,1997,1998,2000,2000,1996,1995,1993,1994,1994,2007,2007,2006,2008,2007,2008,2007,2007,2006,2007,2007,2007,2005,2003,2005,2007,2007,2007,2007,2003,2003,2005,2007,1995,1993,1994,1994,2001,1991,1993,1993,1963,1962,1961,1968,1963,1961,1993,2004,2006,2004,2005,2007,2007,1999,1999,2000,2001,1999,1999,1999,1999,2001,1999,1995,1993,1984,1977,1976,2002,1969,1968,1971,1967,1965,1974,1968,1965,1965,1971,1976,1974,1961,1968,1956,1966,1965,1964,1965,1964,1961,1959,1960,1939,1937,1960,1950,1955,1953,1965,1961,1962,1962,1955,1963,1962,1957,1958,1956,1956,1953,1953,1957,1953,1957,1957,1945,1940,1900,1962,1968,1958,1960,1951,1950,1960,1959,1962,1948,1954,1954,1961,1955,1963,1964,1963,1925,1904,1948,1910,1940,1910,2003,1940,1910,1890,1948,1948,1946,1946,1957,1949,1880,1900,1915,1916,1900,1920,1917,1905,1914,1872,1926,1893,1920,1954,1956,1958,1945,1935,1924,1941,1900,1940,1924,1929,1937,1939,1920,1929,1945,1930,1939,1923,1920,1948,1923,1925,1915,1918,1910,1925,1952,1938,1925,1925,1920,1955,1920,1912,1906,1947,1968,1959,1963,1965,1978,1966,1967,1978,1967,1984,1969,1959,1966,1963,1956,1954,1960,1940,1941,1970,1996,1977,1979,1954,1959,1948,1908,1940,1918,1956,1975,1962,1900,1910,1950,1924,1941,1990,1995,1994,1993,2007,2007,2008,1966,1997,1994,1995,1994,1997,1997,1999,1998,1999,2001,2000,1977,1978,1978,1975,1975,1975,2002,2000,2001,1999,1998,2001,2001,2002,2003,2003,2003,1999,1994,2003,1997,1997,2002,2003,2004,2004,2007,2007,2005,2004,2004,2004,2004,1910,1900,1966,1965,1976,1976,1940,1972,2003,1976,2005,1955,1955,1955,1955,1938,1947,1953,1946,1955,1954,1923,1925,1914,1912,1925,1925,1921,1911,1921,1926,1922,1915,1930,1925,1923,1934,1937,1951,1935,1935,1950,1954,1980,1980,1926,1940,1922,1940,1930,1967,1930,1958,1952,1895,1920,1910,1935,1920,2008,2007,2004,1996,1996,1977,1977,1965,1986,2006,2007,2007,2006,2006,1986,1988,2003,2003,2007,2005,1997,1997,1997,1964,1975,1976,1976,1973,1972,1954,1983,1984,1982,1982,1940,1969,1900,1970,1973,1970,1995,1997,1997,2000,1999,1996,1995,1999,1991,1986,1984,1988,1990,2005,2005,2006,1969,2006,2007,2006,2006,1984,1984,1981,1979,1979,1979,1971,1971,1968,1976,1976,1974,1971,1972,1970,1970,1971,1971,1971,1971,1998,2001,1997,1973,1976,1978,1966,2007,2007,2006,2007,2006,2007,2006,2006,2007,2006,2006,2006,2005,2007,2004,2007,2007,2006,2004,2004,2003,2003,2007,2005,2006,2005,2005,2005,2005,2005,2007,2006,2003,2007,2006,2007,2007,2007,2007,2007,2007,2006,2003,2004,2004,2004,2006,2004,2003,2000,2002,1999,2000,2003,2000,1999,1996,1997,2000,1998,1998,1994,1996,1996,1995,1992,2007,2007,2006,2006,2007,2006,2007,2007,2005,2004,2006,2006,2007,2007,2007,2007,2007,2006,2004,2004,2006,2003,1994,1993,2000,1998,1992,1980,1977,1977,1963,1961,1968,1961,1967,1974,1975,1990,1992,2004,2006,2006,2006,2006,2006,2006,1999,1999,2000,2000,2004,1999,1997,1999,2003,1998,1994,1980,1978,1976,1978,1976,1976,1981,2001,1968,1970,1969,1968,1993,1993,1976,1966,1973,1963,1967,1967,1965,1958,1964,1964,1960,1960,1960,1958,1958,1956,1959,1961,1961,1960,1966,1965,1964,1960,1959,1962,1950,1940,1946,1946,1945,1958,1964,1955,1948,1941,1942,1966,1961,1957,1963,1958,1954,1956,1970,1955,1955,1953,1958,1952,1953,1953,1955,1955,1955,1956,1953,1952,1949,1935,1940,1925,1927,1920,1963,1961,1949,1948,1950,1950,1960,1958,1960,1960,1961,1961,1964,1962,1962,1926,1910,1927,1920,1885,1940,1900,1948,1937,1900,1920,1900,1923,1910,1925,1910,1900,1910,1880,1930,1879,1910,1926,1890,1930,1956,1949,1925,1920,1923,1939,1939,1941,1939,1938,1939,1926,1920,1929,1931,1926,1918,1919,1920,1926,1929,1916,1901,1901,1930,1963,1950,1915,1958,1920,1916,1941,1910,1930,1937,1946,1940,1942,1963,1964,1961,1964,1966,1968,1971,1967,1966,1977,1966,1956,1920,1918,1940,1954,1958,1945,1971,1984,1948,1953,1946,1954,1950,1954,1958,1920,1984,1951,1951,1984,1990,1986,1991,1989,2007,2006,2007,2006,2006,2007,2005,2006,2005,2006,2005,2005,2006,1958,1992,1966,1976,1994,1994,1995,1997,1994,1996,1994,1997,2001,2003,2003,1974,1977,1977,1975,1972,1975,2002,2003,2002,1998,1994,2001,1996,2002,1995,2003,2003,2003,2007,2006,2004,2005,2006,1965,1967,1963,1965,1925,1960,1990,1976,1976,2006,2005,2005,2008,2007,2005,1959,1955,1954,1920,1954,1910,1955,1954,1914,1923,1923,1926,1926,1921,1930,1921,1918,1926,1941,1913,1910,1946,1927,1918,1932,1932,1945,1957,1940,1968,1980,1995,1988,1971,1957,1986,1919,1940,1939,1923,1922,1920,1920,1950,1939,1957,1930,2006,1979,1978,1983,2002,2002,1975,1987,1998,1958,2006,2006,2007,1985,1996,2001,2003,2002,1996,2002,1963,2006,2006,2005,2007,1953,1996,1963,1961,1976,1976,1970,1970,1970,1970,1976,1976,1977,1977,1977,1971,1982,1982,1983,1991,1984,1956,1957,1957,1969,1997,1997,1995,1995,1996,1997,2005,2006,2005,2005,2006,1994,1993,1993,1998,1987,1987,1985,2005,2006,2006,2006,2006,2006,1948,1955,2005,2005,1977,1988,1980,1976,2005,1975,1975,1976,1974,1974,1969,1970,2002,1973,1971,1972,1972,1975,1967,1967,1976,1976,2006,2004,2006,2006,2005,2004,2005,2004,2005,2005,2005,2005,2005,2003,2006,2004,2003,2005,2004,2005,2005,2005,2006,2003,2005,2006,2006,2006,2004,2006,2003,2004,2004,2005,2006,2005,2002,2004,2003,2000,2000,1998,2000,2006,1997,1998,2000,1998,1998,1993,1994,1994,1993,2005,2006,2005,2006,2005,2006,2006,2006,2006,2006,2005,2005,2006,2005,2006,2005,2005,2005,2005,2004,1992,1992,1990,1994,1966,1965,1977,1962,1977,1965,1963,1965,1964,1961,1967,1991,1992,1993,1992,1994,2004,2005,2005,2005,2000,1999,2000,2003,1997,1995,1977,1980,1980,1980,1978,1981,1972,1968,1968,1972,1969,1967,1968,1968,1968,1965,1971,1958,1959,1965,1964,1964,1964,1958,1954,1947,1946,1923,1926,1961,1952,1951,1951,1941,1949,1954,1967,1961,1954,1918,1963,1959,1960,1958,1956,1957,1956,1957,1979,1954,1954,1952,1951,1956,1955,1951,1941,1956,1924,1930,1921,1929,1900,1915,1910,1915,1900,1936,1965,1966,1962,1964,1959,1959,1959,1962,1957,1950,1950,1950,1959,1950,1949,1961,1966,1962,1962,1962,1900,1925,1948,1920,1900,1925,1900,1930,1900,1924,1950,1920,1905,1955,1924,1921,1945,1955,1920,1900,1914,1910,1900,1916,1910,1892,1920,1958,1918,1941,1924,1936,1930,1947,1930,1925,1922,1925,1962,1970,1910,1941,1924,1910,1937,1938,1935,1951,1964,1950,1958,1935,1936,2004,1967,1967,1964,1966,1978,1967,1978,1977,1958,1957,1924,1956,1963,1971,1974,1942,1966,1928,1952,1954,1953,1952,1954,1948,1985,1989,1993,1993,2005,2006,2006,2005,2005,2005,2005,1992,1964,1969,1975,1968,1995,1998,1997,1999,1999,1999,2002,2002,2001,1976,1977,1969,1972,1972,1972,1993,2002,2002,2002,2001,2002,1999,1996,1998,1998,2004,2004,2006,2003,2003,2006,2005,2005,2005,2005,2005,1910,1951,1975,1975,1969,2003,2002,2003,2005,2005,2004,2004,2004,1948,1915,1910,1924,1954,1918,1922,1912,1922,1910,1940,1938,1945,1926,1914,1920,1926,1919,1939,1915,1920,1929,1940,1936,1929,1932,1932,1930,1953,1969,1942,1926,1925,1925,1957,1920,1945,1949,1951,1916,1979,1978,1977,1975,1988,1989,1986,1958,1981,1990,1990,2000,2002,2005,2005,2005,1951,1997,1998,1998,1977,1977,1973,1968,1970,1972,1969,1970,1970,1970,1976,1976,1977,1960,1984,1983,1992,1974,1993],"z":[215000,105000,172000,189900,195500,213500,191500,236500,175900,180400,171500,212000,538000,164000,141000,210000,190000,170000,216000,149000,149900,142000,126000,115000,184000,96000,88000,127500,149900,120000,146000,376162,290941,275000,259000,214000,611657,224000,500000,319900,205000,175500,160000,184500,216500,185088,222500,333168,355000,260400,325000,290000,221000,410000,215200,262500,254900,271500,233000,181000,205000,189000,99500,125000,194500,152000,171000,67500,112000,133000,169000,190000,362500,285000,260000,190000,155000,151000,149500,222000,177500,177000,155000,147110,267916,155000,206000,130500,230000,243500,205000,197500,171000,142250,143000,128950,159000,180500,137500,84900,197600,172500,116500,76500,128000,153000,132000,154300,190000,145000,142000,159500,108000,122500,109000,105000,144900,129000,97500,144000,162000,242000,154000,166000,134800,160000,148000,155000,80400,96500,109500,115000,143000,107400,119000,130000,119000,129000,100000,150000,240000,149700,125500,122500,140750,128500,209500,87000,134000,128000,132000,139900,123900,138400,109500,149500,122000,110000,140000,244400,173000,100000,93369,114900,136000,136500,131500,121500,125000,154000,137900,137250,163000,158900,270000,85000,128000,260000,230000,124000,83000,144500,127000,128000,186000,308030,84900,178000,270000,218000,147000,198900,320000,138500,155000,159000,191000,200500,150000,127000,272000,237000,240000,224900,143750,232000,213000,185500,84900,155891,64000,107000,90000,140000,113000,80000,144500,104000,128000,58500,127000,160000,215000,266500,203135,185000,162500,82000,110000,68400,254900,169900,170000,220000,179781,174000,214900,202900,139000,166500,83500,119500,85000,76000,75500,88250,85500,130000,149900,159000,136000,285000,124500,157000,189500,270000,189000,377500,375000,278000,240000,239500,177500,185000,191000,178000,185000,181316,178000,174000,173000,187500,501837,372500,260000,185000,181000,82500,215000,154000,200000,249000,187500,184000,278000,157000,152000,197500,240900,220000,235000,213000,167900,158000,165000,158000,136000,156000,128000,76500,120500,124500,97000,130000,111000,125000,112000,97000,119500,143750,146000,123000,147000,137900,147000,100000,337500,462000,325000,256300,253293,398800,335000,451950,610000,582933,360000,255500,335000,274900,300000,324000,350000,280000,269500,233170,386250,445000,290000,255900,213000,196000,212500,230000,552000,382500,320000,248500,286500,254000,173000,173000,184000,167800,174000,174000,175900,192500,160200,200000,189500,184100,207500,236000,257500,244000,167000,179000,190000,156000,245000,214000,168000,403000,327000,340000,336000,265000,315000,260000,260000,402000,248000,275000,257500,287090,245000,253000,468000,252678,210000,229800,250000,370878,238500,310000,270000,241000,264500,234500,152000,143500,193000,203000,184900,142000,153000,224243,220000,257000,189000,171500,120000,145000,184000,162000,76000,135000,122000,124100,131400,62383,123000,275000,235000,280750,164500,222000,195000,172500,180000,172500,318750,211500,241600,180500,150000,154000,185000,185750,200000,206000,162000,256900,197900,113000,230000,213250,227000,143000,172500,161500,141500,118000,140000,110000,153000,145100,154000,158000,174500,122000,82500,110000,167000,128900,140000,147000,124000,187500,159000,256000,205000,193500,104900,156500,176000,149500,139000,155000,153000,144000,176000,135000,131000,123000,126000,115000,164900,145500,102900,152500,129900,132000,99900,149000,114000,109500,125000,142900,156500,59000,105000,106000,190000,154000,163000,200000,143500,135000,153000,157500,133000,128500,138000,128000,139000,118900,138000,132500,133500,144750,110000,128900,103500,130000,150000,94550,124500,135000,103000,93000,129500,93000,80000,45000,37900,91300,110000,106000,265979,160000,119000,168000,58500,85000,146500,34900,44000,223500,149000,205000,137000,121000,128000,134900,117000,93000,119000,100000,141500,115000,126500,214500,167500,155000,179900,104000,149000,103000,123000,97500,135000,70000,88750,179000,179000,159900,61000,103600,139000,113500,130000,149900,134900,137000,139000,148000,161500,143000,135000,139600,122000,127500,121500,60000,154400,84000,139500,131000,105000,108000,162000,156500,316600,271900,213000,239900,239500,131000,118964,153337,147983,142953,148325,113722,269500,323262,297000,239900,212000,272500,239000,220000,200000,221800,194500,233500,185000,152000,207000,145000,138000,204000,192000,195000,227000,230000,187100,201000,124000,140000,134900,143500,133500,123000,133900,133000,250000,254750,236500,261500,313000,198500,211000,203000,210000,219500,191000,178000,213000,144000,140000,293200,190000,108000,198500,127000,125000,320000,145500,118000,85000,120000,82000,103500,112000,110000,122000,159434,139500,105000,147500,137450,137000,234000,205000,177500,160000,155000,163500,154900,144800,174500,193000,158000,158500,224000,115000,121000,124000,222000,147000,123000,85000,230000,57625,239686,215000,156450,173000,126000,173000,375000,315500,224500,316500,201000,175000,213500,220000,425000,139500,115000,162000,91000,86000,160000,80000,97000,88000,131900,112000,149000,143000,130000,196000,176500,237500,187500,165000,195500,192000,177900,175000,286000,180000,181000,183000,188000,194500,185000,189000,188500,387000,115000,334000,133000,215000,175500,220000,161000,175000,185000,146900,292500,180000,159900,205000,157000,306000,133000,151000,111900,123000,103400,100000,100500,106000,89500,111750,140000,143000,148500,110000,394617,426000,385000,317500,417500,383000,390000,250000,412500,284000,284000,421250,336860,367294,274000,266000,370967,234250,219500,155000,154000,207000,195000,219990,191000,187687,179000,193000,190000,176000,188000,186500,184000,176000,225000,185900,284500,315000,250000,291000,279500,290000,341000,271000,301500,235128,214000,232000,264132,245000,227680,257000,297900,247000,212700,250580,182000,226700,250000,250000,339750,205950,256000,230348,207500,188000,146000,170000,182000,163000,193500,189000,190500,179200,193000,153900,128000,144000,135000,115000,119916,142000,372500,196000,171900,178000,165000,146000,146000,179400,172900,300000,290000,305000,328900,160000,170000,223000,200000,217500,324000,162500,150000,290000,205000,183000,150000,145000,215000,140500,240000,141000,147000,142600,170000,299800,185000,178400,176000,135750,174900,140000,145000,179900,168500,140000,145500,141000,118000,87000,141500,119000,165500,112900,201800,163000,174000,165000,135000,124000,140000,136500,166800,139000,133000,137500,130000,180000,110000,100000,146000,140000,86900,106250,171000,139000,186000,148000,94000,98300,127000,159000,125900,138000,105500,127500,130000,150000,140000,167900,136870,73000,157500,122600,111000,64000,118000,200000,155000,78000,95000,115000,147000,140000,46500,112500,65000,295000,139500,153900,98000,114000,130000,129500,129400,128000,122000,116900,325000,55000,131500,97000,115500,108000,153000,109500,124000,106900,164900,119000,120000,157000,105000,115000,123000,81300,162900,150000,123500,128000,127000,207000,184000,162500,130000,160000,161000,136000,141000,127500,127000,89500,125000,79900,85000,135000,124000,134000,134432,148000,129500,157500,109900,145000,153000,120000,152000,108959,80000,149350,144900,185000,165000,235000,108000,152400,144000,173000,192000,245000,256000,177000,125600,240000,260000,185000,159900,99600,134500,119000,107500,125000,79000,95000,262280,260000,226500,225000,177439,248500,475000,195000,200000,155000,144000,145000,226001,215700,193000,188000,191000,231500,235000,149900,158000,147000,143195,163000,110000,230000,235000,230500,230000,222500,287000,274000,300000,224900,240000,183000,207000,210000,136500,208900,185000,214000,208500,186500,210000,179900,218836,189000,149300,141000,149000,144500,85000,145900,123000,147500,165000,135000,108000,137500,165400,160500,148000,82000,82000,118000,91900,120000,96000,99000,130500,135500,100000,108000,98000,67000,135900,140000,136500,168000,130000,189000,145000,191000,177000,91000,231000,138000,188700,198000,104000,257076,381000,263400,224000,116500,151000,126000,120000,55000,120500,119000,126000,99500,165500,13100,89000,40000,80900,81000,65000,392500,294464,275000,300000,213000,171000,171500,228950,241500,294000,293077,264966,172500,167500,180000,175000,232500,305000,298751,370000,209200,206300,160500,173000,124000,115000,129500,94900,81000,113000,128500,119500,130500,134500,160000,172000,103000,167000,244000,268000,168000,177000,169000,251000,180000,178750,176000,204000,160000,170000,207500,182000,212000,377426,349265,591587,155000,319900,392000,441929,455000,174000,178000,176000,192000,197000,192350,170000,175000,175000,197900,174000,178900,143250,184000,155000,133000,119500,123000,110000,120500,133000,155000,177000,113000,155000,142500,129250,314813,318000,322400,345474,415298,492000,338931,280000,479069,395000,380000,440000,418000,260116,317000,319500,325624,372000,342000,354000,350000,285000,281500,245700,250000,194700,200000,207000,280000,277500,318061,221370,200000,181755,198444,179540,176485,181134,166000,177594,173500,194201,226500,259000,188500,175000,206580,183500,211000,181000,219500,175000,170000,162000,187000,185000,745000,384500,248000,410000,252000,755000,269790,315750,290000,430000,213133,260261,320000,215000,419005,147000,235876,225000,249000,307000,250000,221300,208900,255000,212109,310013,261329,253000,265000,340000,146000,149000,201000,191750,179000,215000,179200,128000,144000,120750,132500,129000,145000,128500,125500,129000,171000,302000,285000,214000,166000,193800,194000,207500,199900,164700,176500,176000,168500,177000,148800,174000,239000,204000,301000,312500,279700,255000,194000,218000,213750,187000,181500,373000,226000,143450,240050,162500,164000,188500,255000,136905,158500,175500,127000,127000,143000,156000,144000,119000,103000,139900,151500,126500,145000,120000,124000,106500,140500,137500,117600,163500,161000,147000,181900,150750,101800,124000,138500,39300,64500,64000,112000,165000,144000,137000,105000,146500,175000,158500,141000,142100,139000,139400,135000,163500,130000,129500,142000,128600,125000,136000,134500,130000,115000,116900,132000,153000,112500,135000,301600,109000,128500,64500,86000,172000,120000,122900,119200,119000,129000,135000,140000,152000,156500,141000,99000,187000,169500,130000,103000,132000,127500,99900,100000,130000,135000,120000,89471,85000,108500,137000,100000,184900,125000,114000,90000,144100,117500,124500,185000,133900,152000,159500,87000,104500,110000,136500,144000,210000,135000,128000,131000,113000,126000,132000,132500,137500,132000,127500,102000,200000,180500,165000,90000,140000,136000,113000,117000,139400,202500,212300,161000,99500,101000,109900,128500,122000,87000,219000,200500,126000,108500,130000,158450,118500,165000,123000,108000,119900,134500,127000,143500,129000,187000,158000,112000,165250,150000,137000,89500,302000,182000,216000,130000,109900,255000,243000,154000,118000,86000,130000,125000,136500,228500,179900,301000,238000,228500,383970,424870,250000,360000,279500,246500,203000,155835,217000,212999,175900,191000,176432,277000,240000,187500,279000,139500,126000,177500,175000,146000,147900,123600,204750,190550,226000,180000,131000,160000,134900,120000,112500,122000,228500,213000,200000,267000,228000,275000,211000,285000,240000,131500,219500,185000,179400,213500,179600,173500,167840,140000,118500,110000,94750,122000,110000,118500,133500,148000,155000,157000,171500,183850,184750,140000,131750,61500,111000,108500,110000,112000,125000,119000,200000,150000,165000,96500,136500,146500,148500,141500,189950,135000,164000,90350,139000,145000,238000,239000,220000,315000,259500,257500,219500,215000,123900,170000,200000,198000,200624,315000,115000,141000,100000,150909,75200,118400,67000,152000,68104,140000,124900,235000,183500,156000,134000,215000,245000,148000,244000,330000,257000,231713,265900,239000,174000,204000,180500,187500,282000,178000,270000,186700,283463,392000,281213,147000,130000,140000,132250,168000,129900,134000,106500,93900,75000,84500,75190,146800,188000,196000,157000,138000,129500,124500,139000,93500,124500,157500,169000,252000,192100,183500,222000,170000,187500,202000,185000,320000,240000,239900,309000,274725,270000,183500,165600,176500,130000,239000,275000,457347,545224,356383,361919,535000,438780,169000,145000,319000,470000,235000,241500,207500,172000,294323,184500,153500,162900,181000,155000,138800,116050,190000,125500,91500,118000,89000,146300,145000,123000,137500,144000,412083,252000,465000,293000,415000,326000,325300,309000,300000,275500,338500,345000,329900,360000,281000,378000,374000,437154,279000,185850,282500,202500,332200,171750,169990,179665,174190,172785,258000,210250,215000,178740,225000,156820,246578,192140,183200,201490,180000,172400,215000,199900,173000,287602,348000,286000,300000,280000,258000,584500,321000,290000,315000,252000,336820,423000,290000,232000,199000,198600,405749,232600,266000,186500,200825,197000,176000,187750,139500,186800,132000,142500,158000,175900,248500,172000,150000,107000,119900,119500,144000,151000,126000,133500,120875,124000,135000,129200,260000,334000,310000,268000,262000,176400,197000,147400,149900,166000,183900,165000,139000,200000,270000,165000,214000,188000,190000,170000,385000,146500,170000,179900,165150,140000,135500,155000,157500,138500,146000,190000,129900,145000,185900,160000,167000,157500,150000,137000,137000,121600,85500,79900,161000,146500,135000,137900,133000,137000,121000,119000,98600,118000,235000,135000,143000,145250,162000,148000,141000,153000,134450,135960,156000,140000,139500,155000,133500,125000,142000,167000,159000,112000,99800,108480,68000,86900,155500,80000,105000,160000,170000,160000,159950,147000,115000,159500,120000,157500,277500,207500,147500,109500,109900,133700,81400,87500,146000,155000,120000,105000,124000,169000,107000,135000,111500,156500,178000,139900,105000,111500,108000,105000,116000,96900,135500,139000,61500,120000,126175,64000,87000,163000,155000,79000,144000,114504,475000,93500,125000,64500,100000,202500,115000,75000,80500,110000,110500,113000,109000,220000,129000,117000,52500,107000,116500,119500,125500,84500,137500,150000,131000,130000,125000,80000,157000,90000,153600,132000,142500,149500,165000,160500,157000,172500,155000,105000,168000,164000,130000,142500,128000,274970,235000,135000,136900,149900,123500,93000,91500,180000,209000,215000,224500,221500,239799,233555,260000,294900,209700,225000,220000,190000,180000,280000,158900,187000,193000,217000,214000,196000,217000,200000,192500,205000,132500,157500,128500,128500,149900,119900,137000,255000,222000,220000,275000,197000,268500,210900,227000,274300,216837,155900,233230,207000,200000,203160,195800,212900,173900,163990,164990,98000,102000,127500,127500,119900,196500,117250,229000,140000,142500,130000,130000,137500,97900,92000,81000,104900,125000,116000,83000,118500,35000,121000,140000,137000,128000,160000,138887,149000,102000,167000,131000,140000,195000,230000,194000,250000,218000,239000,199500,210000,157000,223000,102000,145400,72000,85000,139000,108000,51689,35311,115000,78000,242500,145000,135000,148000,171000,335000,230000,250764,228000,180000,250000,202000,312500,320000,369900,359900,81500,215000,164000,153500,104500,127000,151400,126500,73000,79400,140000,87550,79500,71000,150900,188000,160000,131000,142500,131000,132000,170000,188000],"mode":"markers","marker":{"color":"rgba(31,119,180,1)","size":5,"opacity":0.25,"line":{"color":"rgba(31,119,180,1)"}},"showlegend":false,"type":"scatter3d","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"frame":null},{"colorbar":{"title":"Sale_Price","ticklen":2},"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"x":[334,384,434,484,534,584,634,684,734,784,834,884,934,984,1034,1084,1134,1184,1234,1284,1334,1384,1434,1484,1534,1584,1634,1684,1734,1784,1834,1884,1934,1984,2034,2084,2134,2184,2234,2284,2334,2384,2434,2484,2534,2584,2634,2684,2734,2784,2834,2884,2934,2984,3034,3084,3134,3184,3234,3284,3334,3384,3434,3484,3534,3584,3634,3684,3734,3784,3834,3884,3934,3984,4034,4084,4134,4184,4234,4284,4334,4384,4434,4484,4534,4584,4634,4684,4734,4784,4834,4884,4934,4984,5034,5084],"y":[1872,1882,1892,1902,1912,1922,1932,1942,1952,1962,1972,1982,1992,2002],"z":[[-39828.7123677144,-34916.9099023885,-30005.1074370628,-25093.3049717369,-20181.5025064112,-15269.7000410855,-10357.8975757596,-5446.09511043387,-534.292645107955,4377.50982021773,9289.31228554365,14201.1147508693,19112.917216195,24024.7196815209,28936.5221468466,33848.3246121726,38760.1270774982,43671.9295428242,48583.7320081498,53495.5344734755,58407.3369388015,63319.1394041271,68230.9418694531,73142.7443347787,78054.5468001047,82966.3492654304,87878.151730756,92789.954196082,97701.7566614076,102613.559126734,107525.361592059,112437.164057385,117348.966522711,122260.768988037,127172.571453362,132084.373918688,136996.176384014,141907.97884934,146819.781314666,151731.583779991,156643.386245317,161555.188710643,166466.991175969,171378.793641295,176290.59610662,181202.398571946,186114.201037272,191026.003502598,195937.805967923,200849.608433249,205761.410898575,210673.213363901,215585.015829227,220496.818294552,225408.620759878,230320.423225204,235232.22569053,240144.028155856,245055.830621181,249967.633086507,254879.435551833,259791.238017159,264703.040482485,269614.84294781,274526.645413136,279438.447878462,284350.250343788,289262.052809113,294173.855274439,299085.657739765,303997.460205091,308909.262670417,313821.065135742,318732.867601068,323644.670066394,328556.47253172,333468.274997046,338380.077462371,343291.879927697,348203.682393023,353115.484858349,358027.287323674,362939.089789,367850.892254326,372762.694719652,377674.497184978,382586.299650303,387498.102115629,392409.904580955,397321.707046281,402233.509511607,407145.311976932,412057.114442258,416968.916907584,421880.71937291,426792.521838235],[-29105.6297902553,-24193.8273249294,-19282.0248596037,-14370.2223942778,-9458.41992895212,-4546.61746362643,365.185001699487,5276.98746702517,10188.7899323511,15100.5923976768,20012.3948630027,24924.1973283284,29835.9997936541,34747.80225898,39659.6047243057,44571.4071896316,49483.2096549573,54395.0121202832,59306.8145856089,64218.6170509346,69130.4195162605,74042.2219815862,78954.0244469121,83865.8269122378,88777.6293775637,93689.4318428894,98601.2343082151,103513.036773541,108424.839238867,113336.641704193,118248.444169518,123160.246634844,128072.04910017,132983.851565496,137895.654030822,142807.456496147,147719.258961473,152631.061426799,157542.863892125,162454.66635745,167366.468822776,172278.271288102,177190.073753428,182101.876218754,187013.678684079,191925.481149405,196837.283614731,201749.086080057,206660.888545383,211572.691010708,216484.493476034,221396.29594136,226308.098406686,231219.900872011,236131.703337337,241043.505802663,245955.308267989,250867.110733315,255778.91319864,260690.715663966,265602.518129292,270514.320594618,275426.123059944,280337.925525269,285249.727990595,290161.530455921,295073.332921247,299985.135386572,304896.937851898,309808.740317224,314720.54278255,319632.345247876,324544.147713201,329455.950178527,334367.752643853,339279.555109179,344191.357574505,349103.16003983,354014.962505156,358926.764970482,363838.567435808,368750.369901133,373662.172366459,378573.974831785,383485.777297111,388397.579762437,393309.382227762,398221.184693088,403132.987158414,408044.78962374,412956.592089066,417868.394554391,422780.197019717,427691.999485043,432603.801950369,437515.604415694],[-18382.5472127963,-13470.7447474704,-8558.94228214468,-3647.13981681876,1264.66264850693,6176.46511383262,11088.2675791585,16000.0700444842,20911.8725098101,25823.6749751358,30735.4774404617,35647.2799057874,40559.0823711131,45470.884836439,50382.6873017647,55294.4897670907,60206.2922324163,65118.0946977423,70029.8971630679,74941.6996283936,79853.5020937196,84765.3045590452,89677.1070243712,94588.9094896968,99500.7119550228,104412.514420348,109324.316885674,114236.119351,119147.921816326,124059.724281652,128971.526746977,133883.329212303,138795.131677629,143706.934142955,148618.736608281,153530.539073606,158442.341538932,163354.144004258,168265.946469584,173177.748934909,178089.551400235,183001.353865561,187913.156330887,192824.958796213,197736.761261538,202648.563726864,207560.36619219,212472.168657516,217383.971122842,222295.773588167,227207.576053493,232119.378518819,237031.180984145,241942.98344947,246854.785914796,251766.588380122,256678.390845448,261590.193310774,266501.995776099,271413.798241425,276325.600706751,281237.403172077,286149.205637403,291061.008102728,295972.810568054,300884.61303338,305796.415498706,310708.217964032,315620.020429357,320531.822894683,325443.625360009,330355.427825335,335267.23029066,340179.032755986,345090.835221312,350002.637686638,354914.440151964,359826.242617289,364738.045082615,369649.847547941,374561.650013267,379473.452478593,384385.254943918,389297.057409244,394208.85987457,399120.662339896,404032.464805221,408944.267270547,413856.069735873,418767.872201199,423679.674666525,428591.47713185,433503.279597176,438415.082062502,443326.884527828,448238.686993154],[-7659.464635337,-2747.66217001108,2164.1402953146,7075.94276064052,11987.7452259662,16899.5476912919,21811.3501566178,26723.1526219435,31634.9550872694,36546.7575525951,41458.560017921,46370.3624832467,51282.1649485724,56193.9674138983,61105.769879224,66017.5723445499,70929.3748098756,75841.1772752015,80752.9797405272,85664.7822058529,90576.5846711788,95488.3871365045,100400.18960183,105311.992067156,110223.794532482,115135.596997808,120047.399463133,124959.201928459,129871.004393785,134782.806859111,139694.609324437,144606.411789762,149518.214255088,154430.016720414,159341.81918574,164253.621651066,169165.424116391,174077.226581717,178989.029047043,183900.831512369,188812.633977694,193724.43644302,198636.238908346,203548.041373672,208459.843838998,213371.646304323,218283.448769649,223195.251234975,228107.053700301,233018.856165627,237930.658630952,242842.461096278,247754.263561604,252666.06602693,257577.868492255,262489.670957581,267401.473422907,272313.275888233,277225.078353559,282136.880818884,287048.68328421,291960.485749536,296872.288214862,301784.090680188,306695.893145513,311607.695610839,316519.498076165,321431.300541491,326343.103006816,331254.905472142,336166.707937468,341078.510402794,345990.31286812,350902.115333445,355813.917798771,360725.720264097,365637.522729423,370549.325194749,375461.127660074,380372.9301254,385284.732590726,390196.535056052,395108.337521377,400020.139986703,404931.942452029,409843.744917355,414755.547382681,419667.349848006,424579.152313332,429490.954778658,434402.757243984,439314.55970931,444226.362174635,449138.164639961,454049.967105287,458961.769570613],[3063.61794212204,7975.42040744796,12887.2228727737,17799.0253380996,22710.8278034253,27622.6302687509,32534.4327340769,37446.2351994026,42358.0376647285,47269.8401300542,52181.6425953801,57093.4450607058,62005.2475260315,66917.0499913574,71828.8524566831,76740.654922009,81652.4573873347,86564.2598526606,91476.0623179863,96387.864783312,101299.667248638,106211.469713964,111123.272179289,116035.074644615,120946.877109941,125858.679575267,130770.482040592,135682.284505918,140594.086971244,145505.88943657,150417.691901896,155329.494367221,160241.296832547,165153.099297873,170064.901763199,174976.704228525,179888.506693851,184800.309159176,189712.111624502,194623.914089828,199535.716555153,204447.519020479,209359.321485805,214271.123951131,219182.926416457,224094.728881782,229006.531347108,233918.333812434,238830.13627776,243741.938743086,248653.741208411,253565.543673737,258477.346139063,263389.148604389,268300.951069715,273212.75353504,278124.556000366,283036.358465692,287948.160931018,292859.963396343,297771.765861669,302683.568326995,307595.370792321,312507.173257647,317418.975722972,322330.778188298,327242.580653624,332154.38311895,337066.185584276,341977.988049601,346889.790514927,351801.592980253,356713.395445579,361625.197910904,366537.00037623,371448.802841556,376360.605306882,381272.407772208,386184.210237533,391096.012702859,396007.815168185,400919.617633511,405831.420098837,410743.222564162,415655.025029488,420566.827494814,425478.62996014,430390.432425465,435302.234890791,440214.037356117,445125.839821443,450037.642286769,454949.444752094,459861.24721742,464773.049682746,469684.852148072],[13786.7005195811,18698.502984907,23610.3054502327,28522.1079155586,33433.9103808843,38345.71284621,43257.5153115359,48169.3177768616,53081.1202421875,57992.9227075132,62904.7251728391,67816.5276381648,72728.3301034905,77640.1325688164,82551.9350341421,87463.737499468,92375.5399647937,97287.3424301196,102199.144895445,107110.947360771,112022.749826097,116934.552291423,121846.354756749,126758.157222074,131669.9596874,136581.762152726,141493.564618052,146405.367083377,151317.169548703,156228.972014029,161140.774479355,166052.57694468,170964.379410006,175876.181875332,180787.984340658,185699.786805984,190611.58927131,195523.391736635,200435.194201961,205346.996667287,210258.799132613,215170.601597938,220082.404063264,224994.20652859,229906.008993916,234817.811459241,239729.613924567,244641.416389893,249553.218855219,254465.021320545,259376.82378587,264288.626251196,269200.428716522,274112.231181848,279024.033647174,283935.836112499,288847.638577825,293759.441043151,298671.243508477,303583.045973802,308494.848439128,313406.650904454,318318.45336978,323230.255835106,328142.058300431,333053.860765757,337965.663231083,342877.465696409,347789.268161735,352701.07062706,357612.873092386,362524.675557712,367436.478023038,372348.280488363,377260.082953689,382171.885419015,387083.687884341,391995.490349667,396907.292814992,401819.095280318,406730.897745644,411642.70021097,416554.502676296,421466.305141622,426378.107606947,431289.910072273,436201.712537599,441113.515002924,446025.31746825,450937.119933576,455848.922398902,460760.724864228,465672.527329553,470584.329794879,475496.132260205,480407.934725531],[24509.7830970401,29421.5855623661,34333.3880276917,39245.1904930177,44156.9929583434,49068.795423669,53980.597888995,58892.4003543206,63804.2028196466,68716.0052849723,73627.8077502982,78539.6102156239,83451.4126809496,88363.2151462755,93275.0176116012,98186.8200769271,103098.622542253,108010.425007579,112922.227472904,117834.02993823,122745.832403556,127657.634868882,132569.437334208,137481.239799533,142393.042264859,147304.844730185,152216.647195511,157128.449660836,162040.252126162,166952.054591488,171863.857056814,176775.659522139,181687.461987465,186599.264452791,191511.066918117,196422.869383443,201334.671848769,206246.474314094,211158.27677942,216070.079244746,220981.881710072,225893.684175398,230805.486640723,235717.289106049,240629.091571375,245540.8940367,250452.696502026,255364.498967352,260276.301432678,265188.103898004,270099.906363329,275011.708828655,279923.511293981,284835.313759307,289747.116224633,294658.918689959,299570.721155284,304482.52362061,309394.326085936,314306.128551261,319217.931016587,324129.733481913,329041.535947239,333953.338412565,338865.14087789,343776.943343216,348688.745808542,353600.548273868,358512.350739194,363424.15320452,368335.955669845,373247.758135171,378159.560600497,383071.363065823,387983.165531148,392894.967996474,397806.7704618,402718.572927126,407630.375392451,412542.177857777,417453.980323103,422365.782788429,427277.585253755,432189.387719081,437101.190184406,442012.992649732,446924.795115058,451836.597580384,456748.400045709,461660.202511035,466572.004976361,471483.807441687,476395.609907012,481307.412372338,486219.214837664,491131.01730299],[35232.8656744992,40144.6681398251,45056.4706051508,49968.2730704767,54880.0755358024,59791.8780011281,64703.680466454,69615.4829317797,74527.2853971056,79439.0878624313,84350.8903277572,89262.6927930829,94174.4952584086,99086.2977237345,103998.10018906,108909.902654386,113821.705119712,118733.507585038,123645.310050363,128557.112515689,133468.914981015,138380.717446341,143292.519911667,148204.322376992,153116.124842318,158027.927307644,162939.72977297,167851.532238296,172763.334703621,177675.137168947,182586.939634273,187498.742099599,192410.544564924,197322.34703025,202234.149495576,207145.951960902,212057.754426228,216969.556891553,221881.359356879,226793.161822205,231704.964287531,236616.766752857,241528.569218182,246440.371683508,251352.174148834,256263.97661416,261175.779079485,266087.581544811,270999.384010137,275911.186475463,280822.988940788,285734.791406114,290646.59387144,295558.396336766,300470.198802092,305382.001267418,310293.803732743,315205.606198069,320117.408663395,325029.211128721,329941.013594046,334852.816059372,339764.618524698,344676.420990024,349588.223455349,354500.025920675,359411.828386001,364323.630851327,369235.433316653,374147.235781979,379059.038247304,383970.84071263,388882.643177956,393794.445643282,398706.248108607,403618.050573933,408529.853039259,413441.655504585,418353.45796991,423265.260435236,428177.062900562,433088.865365888,438000.667831214,442912.47029654,447824.272761865,452736.075227191,457647.877692517,462559.680157843,467471.482623169,472383.285088494,477295.08755382,482206.890019146,487118.692484471,492030.494949797,496942.297415123,501854.099880449],[45955.9482519582,50867.7507172842,55779.5531826098,60691.3556479358,65603.1581132615,70514.9605785871,75426.7630439131,80338.5655092387,85250.3679745647,90162.1704398904,95073.9729052163,99985.775370542,104897.577835868,109809.380301194,114721.182766519,119632.985231845,124544.787697171,129456.590162497,134368.392627822,139280.195093148,144191.997558474,149103.8000238,154015.602489126,158927.404954451,163839.207419777,168751.009885103,173662.812350429,178574.614815755,183486.41728108,188398.219746406,193310.022211732,198221.824677058,203133.627142383,208045.429607709,212957.232073035,217869.034538361,222780.837003687,227692.639469012,232604.441934338,237516.244399664,242428.04686499,247339.849330316,252251.651795641,257163.454260967,262075.256726293,266987.059191619,271898.861656945,276810.66412227,281722.466587596,286634.269052922,291546.071518247,296457.873983573,301369.676448899,306281.478914225,311193.281379551,316105.083844877,321016.886310202,325928.688775528,330840.491240854,335752.29370618,340664.096171506,345575.898636831,350487.701102157,355399.503567483,360311.306032808,365223.108498134,370134.91096346,375046.713428786,379958.515894112,384870.318359438,389782.120824763,394693.923290089,399605.725755415,404517.528220741,409429.330686067,414341.133151392,419252.935616718,424164.738082044,429076.54054737,433988.343012695,438900.145478021,443811.947943347,448723.750408673,453635.552873999,458547.355339324,463459.15780465,468370.960269976,473282.762735302,478194.565200628,483106.367665953,488018.170131279,492929.972596605,497841.775061931,502753.577527256,507665.379992582,512577.182457908],[56679.0308294173,61590.8332947432,66502.6357600689,71414.4382253948,76326.2406907205,81238.0431560462,86149.8456213721,91061.6480866978,95973.4505520237,100885.253017349,105797.055482675,110708.857948001,115620.660413327,120532.462878653,125444.265343978,130356.067809304,135267.87027463,140179.672739956,145091.475205282,150003.277670607,154915.080135933,159826.882601259,164738.685066585,169650.48753191,174562.289997236,179474.092462562,184385.894927888,189297.697393214,194209.499858539,199121.302323865,204033.104789191,208944.907254517,213856.709719843,218768.512185168,223680.314650494,228592.11711582,233503.919581146,238415.722046471,243327.524511797,248239.326977123,253151.129442449,258062.931907775,262974.7343731,267886.536838426,272798.339303752,277710.141769078,282621.944234404,287533.746699729,292445.549165055,297357.351630381,302269.154095707,307180.956561032,312092.759026358,317004.561491684,321916.36395701,326828.166422336,331739.968887661,336651.771352987,341563.573818313,346475.376283639,351387.178748965,356298.98121429,361210.783679616,366122.586144942,371034.388610268,375946.191075593,380857.993540919,385769.796006245,390681.598471571,395593.400936897,400505.203402222,405417.005867548,410328.808332874,415240.6107982,420152.413263526,425064.215728851,429976.018194177,434887.820659503,439799.623124829,444711.425590154,449623.22805548,454535.030520806,459446.832986132,464358.635451458,469270.437916783,474182.240382109,479094.042847435,484005.845312761,488917.647778087,493829.450243412,498741.252708738,503653.055174064,508564.85763939,513476.660104715,518388.462570041,523300.265035367],[67402.1134068763,72313.9158722023,77225.7183375279,82137.5208028539,87049.3232681795,91961.1257335052,96872.9281988312,101784.730664157,106696.533129483,111608.335594808,116520.138060134,121431.94052546,126343.742990786,131255.545456112,136167.347921437,141079.150386763,145990.952852089,150902.755317415,155814.557782741,160726.360248066,165638.162713392,170549.965178718,175461.767644044,180373.570109369,185285.372574695,190197.175040021,195108.977505347,200020.779970673,204932.582435998,209844.384901324,214756.18736665,219667.989831976,224579.792297302,229491.594762627,234403.397227953,239315.199693279,244227.002158605,249138.80462393,254050.607089256,258962.409554582,263874.212019908,268786.014485234,273697.816950559,278609.619415885,283521.421881211,288433.224346537,293345.026811863,298256.829277188,303168.631742514,308080.43420784,312992.236673166,317904.039138491,322815.841603817,327727.644069143,332639.446534469,337551.248999795,342463.05146512,347374.853930446,352286.656395772,357198.458861098,362110.261326424,367022.063791749,371933.866257075,376845.668722401,381757.471187727,386669.273653053,391581.076118378,396492.878583704,401404.68104903,406316.483514356,411228.285979681,416140.088445007,421051.890910333,425963.693375659,430875.495840985,435787.29830631,440699.100771636,445610.903236962,450522.705702288,455434.508167614,460346.310632939,465258.113098265,470169.915563591,475081.718028917,479993.520494242,484905.322959568,489817.125424894,494728.92789022,499640.730355546,504552.532820871,509464.335286197,514376.137751523,519287.940216849,524199.742682175,529111.5451475,534023.347612826],[78125.1959843354,83036.9984496613,87948.800914987,92860.6033803129,97772.4058456386,102684.208310964,107596.01077629,112507.813241616,117419.615706942,122331.418172267,127243.220637593,132155.023102919,137066.825568245,141978.628033571,146890.430498896,151802.232964222,156714.035429548,161625.837894874,166537.6403602,171449.442825525,176361.245290851,181273.047756177,186184.850221503,191096.652686829,196008.455152154,200920.25761748,205832.060082806,210743.862548132,215655.665013457,220567.467478783,225479.269944109,230391.072409435,235302.874874761,240214.677340086,245126.479805412,250038.282270738,254950.084736064,259861.88720139,264773.689666715,269685.492132041,274597.294597367,279509.097062693,284420.899528018,289332.701993344,294244.50445867,299156.306923996,304068.109389322,308979.911854647,313891.714319973,318803.516785299,323715.319250625,328627.121715951,333538.924181276,338450.726646602,343362.529111928,348274.331577254,353186.134042579,358097.936507905,363009.738973231,367921.541438557,372833.343903883,377745.146369208,382656.948834534,387568.75129986,392480.553765186,397392.356230512,402304.158695837,407215.961161163,412127.763626489,417039.566091815,421951.36855714,426863.171022466,431774.973487792,436686.775953118,441598.578418444,446510.380883769,451422.183349095,456333.985814421,461245.788279747,466157.590745073,471069.393210398,475981.195675724,480892.99814105,485804.800606376,490716.603071701,495628.405537027,500540.208002353,505452.010467679,510363.812933005,515275.61539833,520187.417863656,525099.220328982,530011.022794308,534922.825259634,539834.627724959,544746.430190285],[88848.2785617944,93760.0810271204,98671.883492446,103583.685957772,108495.488423098,113407.290888423,118319.093353749,123230.895819075,128142.698284401,133054.500749727,137966.303215052,142878.105680378,147789.908145704,152701.71061103,157613.513076355,162525.315541681,167437.118007007,172348.920472333,177260.722937659,182172.525402984,187084.32786831,191996.130333636,196907.932798962,201819.735264288,206731.537729613,211643.340194939,216555.142660265,221466.945125591,226378.747590916,231290.550056242,236202.352521568,241114.154986894,246025.95745222,250937.759917545,255849.562382871,260761.364848197,265673.167313523,270584.969778849,275496.772244174,280408.5747095,285320.377174826,290232.179640152,295143.982105477,300055.784570803,304967.587036129,309879.389501455,314791.191966781,319702.994432106,324614.796897432,329526.599362758,334438.401828084,339350.20429341,344262.006758736,349173.809224061,354085.611689387,358997.414154713,363909.216620038,368821.019085364,373732.82155069,378644.624016016,383556.426481342,388468.228946667,393380.031411993,398291.833877319,403203.636342645,408115.438807971,413027.241273297,417939.043738622,422850.846203948,427762.648669274,432674.4511346,437586.253599925,442498.056065251,447409.858530577,452321.660995903,457233.463461228,462145.265926554,467057.06839188,471968.870857206,476880.673322532,481792.475787858,486704.278253183,491616.080718509,496527.883183835,501439.685649161,506351.488114486,511263.290579812,516175.093045138,521086.895510464,525998.697975789,530910.500441115,535822.302906441,540734.105371767,545645.907837093,550557.710302418,555469.512767744],[99571.3611392535,104483.163604579,109394.966069905,114306.768535231,119218.571000557,124130.373465882,129042.175931208,133953.978396534,138865.78086186,143777.583327186,148689.385792512,153601.188257837,158512.990723163,163424.793188489,168336.595653814,173248.39811914,178160.200584466,183072.003049792,187983.805515118,192895.607980443,197807.410445769,202719.212911095,207631.015376421,212542.817841747,217454.620307073,222366.422772398,227278.225237724,232190.02770305,237101.830168376,242013.632633701,246925.435099027,251837.237564353,256749.040029679,261660.842495004,266572.64496033,271484.447425656,276396.249890982,281308.052356308,286219.854821634,291131.657286959,296043.459752285,300955.262217611,305867.064682937,310778.867148262,315690.669613588,320602.472078914,325514.27454424,330426.077009565,335337.879474891,340249.681940217,345161.484405543,350073.286870869,354985.089336195,359896.89180152,364808.694266846,369720.496732172,374632.299197498,379544.101662823,384455.904128149,389367.706593475,394279.509058801,399191.311524126,404103.113989452,409014.916454778,413926.718920104,418838.52138543,423750.323850756,428662.126316081,433573.928781407,438485.731246733,443397.533712059,448309.336177384,453221.13864271,458132.941108036,463044.743573362,467956.546038687,472868.348504013,477780.150969339,482691.953434665,487603.755899991,492515.558365317,497427.360830642,502339.163295968,507250.965761294,512162.76822662,517074.570691945,521986.373157271,526898.175622597,531809.978087923,536721.780553248,541633.583018574,546545.3854839,551457.187949226,556368.990414552,561280.792879877,566192.595345203]],"mode":"markers","marker":{"size":5,"opacity":0.25},"showlegend":false,"type":"surface","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

]

---
# Assessing model accuracy

.pull-left[

We've fit four models to the Ames housing data: 

1. a single predictor, 
2. two predictors, 
3. two predictors with interaction,
4. and all possible main effect predictors. 

&lt;br&gt;

.center.bold.blue[Which model is "best"?]

]

---
# Assessing model accuracy .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 4]

.scrollable90[
.pull-left[

We've fit four models to the Ames housing data: 

1. a single predictor, 
2. two predictors, 
3. two predictors with interaction,
4. and all possible main effect predictors. 

&lt;br&gt;

.center.bold.blue[Which model is "best"?]

]

.pull-right[


```r
# create a resampling method
cv &lt;- trainControl(
  method = "repeatedcv", 
  number = 10, 
  repeats = 5
  )

# model 1 CV
set.seed(123)
(cv_model1 &lt;- train(
  Sale_Price ~ Gr_Liv_Area, 
  data = ames_train, 
* method = "lm",
  trControl = cv)
)
## Linear Regression 
## 
## 2199 samples
##    1 predictor
## 
## No pre-processing
## Resampling: Cross-Validated (10 fold, repeated 5 times) 
## Summary of sample sizes: 1979, 1978, 1980, 1980, 1979, 1980, ... 
## Resampling results:
## 
##   RMSE      Rsquared   MAE     
##   55890.15  0.5134204  38553.52
## 
## Tuning parameter 'intercept' was held constant at a value of TRUE
```

]
]

---
# Assessing model accuracy .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 5]

.scrollable90[
.pull-left[

We've fit four models to the Ames housing data: 

1. a single predictor, 
2. two predictors, 
3. two predictors with interaction,
4. and all possible main effect predictors. 

&lt;br&gt;

.center.bold.blue[Model using most predictors is marginally superior]

]

.pull-right[


```r
# model 2 CV
set.seed(123)
cv_model2 &lt;- train(
  Sale_Price ~ Gr_Liv_Area + Year_Built, 
  data = ames_train, 
  method = "lm",
  trControl = cv
  )

# model 3 CV
set.seed(123)
cv_model3 &lt;- train(
  Sale_Price ~ Gr_Liv_Area + Year_Built + Gr_Liv_Area : Year_Built, 
  data = ames_train, 
  method = "lm",
  trControl = cv
  )

# model 4 CV
set.seed(123)
cv_model4 &lt;- train(
  Sale_Price ~ ., 
  data = ames_train, 
  method = "lm",
  trControl = cv
  )

# Extract out of sample performance measures
summary(resamples(list(
  model1 = cv_model1, 
  model2 = cv_model2, 
  model3 = cv_model3,
  model4 = cv_model4
)))
## 
## Call:
## summary.resamples(object = resamples(list(model1 = cv_model1, model2 = cv_model2, model3
##  = cv_model3, model4 = cv_model4)))
## 
## Models: model1, model2, model3, model4 
## Number of resamples: 50 
## 
## MAE 
##            Min.  1st Qu.   Median     Mean  3rd Qu.     Max. NA's
## model1 34904.18 37559.58 38510.78 38553.52 39715.04 43242.37    0
## model2 27583.27 30698.46 31629.63 31811.28 32997.49 36053.96    0
## model3 26380.87 29511.34 30238.31 30571.59 31933.90 34979.59    0
## model4 14371.94 15392.35 16089.85 16455.34 17307.06 20146.35    0
## 
## RMSE 
##            Min.  1st Qu.   Median     Mean  3rd Qu.     Max. NA's
## model1 47642.64 53673.02 55630.20 55890.15 58676.44 68887.67    0
## model2 36226.34 43489.06 45281.67 46036.15 48681.86 60533.98    0
## model3 34530.49 42048.83 43631.66 45186.34 46945.23 64159.82    0
## model4 20272.41 22556.43 25810.57 28368.21 29749.65 55864.79    0
## 
## Rsquared 
##             Min.   1st Qu.    Median      Mean   3rd Qu.      Max. NA's
## model1 0.3859977 0.4780213 0.5104276 0.5134204 0.5534873 0.6617992    0
## model2 0.5431509 0.6500207 0.6783304 0.6703415 0.6948392 0.7485206    0
## model3 0.4860618 0.6630967 0.6965823 0.6832889 0.7243789 0.7770264    0
## model4 0.6804975 0.8687873 0.8978879 0.8731645 0.9217784 0.9370737    0
```

]
]

---
# Model concerns

.pull-left[

&lt;br&gt;&lt;br&gt;&lt;br&gt;

.bold.center[With simplistic models comes many assumptions...often at the expense of model performance]

]

.pull-right[

&lt;br&gt;

&lt;img src="https://media1.tenor.com/images/3c888132eb6fbedec9a131bc55a05315/tenor.gif?itemid=10744949" style="display: block; margin: auto;" /&gt;


]

---
# Model concerns

.pull-left[
1. .bold.red[Linear relationship]
2. Constant variance among residuals
3. No autocorrelation
4. More observations than predictors
5. No or little multicollinearity

&lt;br&gt;

.bold.center[&lt;u&gt;Sometimes&lt;/u&gt; we can resolve this with transformations]

]

.pull-right[

&lt;img src="04-linear-regression-slides_files/figure-html/unnamed-chunk-7-1.png" style="display: block; margin: auto;" /&gt;


]

---
# Model concerns

.pull-left[
1. Linear relationship
2. .bold.red[Constant variance among residuals]
3. No autocorrelation
4. More observations than predictors
5. No or little multicollinearity

&lt;br&gt;

.bold.center[&lt;u&gt;Sometimes&lt;/u&gt; we can resolve this with transformations or adding more features]
]

.pull-right[

&lt;img src="04-linear-regression-slides_files/figure-html/unnamed-chunk-8-1.png" style="display: block; margin: auto;" /&gt;

]

---
# Model concerns

.pull-left[
1. Linear relationship
2. Constant variance among residuals
3. .bold.red[No autocorrelation]
4. More observations than predictors
5. No or little multicollinearity

&lt;br&gt;

.bold.center[&lt;u&gt;Sometimes&lt;/u&gt; we can resolve this by adding more features]
]

.pull-right[

&lt;img src="04-linear-regression-slides_files/figure-html/unnamed-chunk-9-1.png" style="display: block; margin: auto;" /&gt;

]

---
# Model concerns

.pull-left[
1. Linear relationship
2. Constant variance among residuals
3. No autocorrelation
4. .bold.red[More observations than predictors]
5. No or little multicollinearity

&lt;br&gt;

.bold.center[&lt;u&gt;Sometimes&lt;/u&gt; we can resolve this with feature reduction techniques]
]

.pull-right[

&lt;table class="table table-striped" style="margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; y &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x3 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x4 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x5 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x6 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x7 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x8 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x9 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; x10 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 129002 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 371454 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 389726 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 309319 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 258595 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

.bold.center.red[Not invertible --&gt; solutions are non-unique meaning there are many "right" solutions for our feature coefficients!]

]

---
# Model concerns .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 6]

.pull-left[
1. Linear relationship
2. Constant variance among residuals
3. No autocorrelation
4. More observations than predictors
5. .bold.red[No or little multicollinearity]

&lt;br&gt;

.bold.center[&lt;u&gt;Sometimes&lt;/u&gt; we can resolve this with feature reduction techniques]
]

.pull-right[


```r
m1 &lt;- lm(Sale_Price ~ Gr_Liv_Area + TotRms_AbvGrd, data = ames_train)
m2 &lt;- lm(Sale_Price ~ Gr_Liv_Area, data = ames_train)
m3 &lt;- lm(Sale_Price ~ TotRms_AbvGrd, data = ames_train)

*coef(m1)
##   (Intercept)   Gr_Liv_Area TotRms_AbvGrd 
##    38967.4910      142.1163   -11040.8135
*coef(m2)
## (Intercept) Gr_Liv_Area 
##   9929.4188    114.1796
*coef(m3)
##   (Intercept) TotRms_AbvGrd 
##      16212.42      25649.47
```

]

---
# Model concerns

.pull-left[
1. Linear relationship
2. Constant variance among residuals
3. No autocorrelation
4. More observations than predictors
5. No or little multicollinearity

]

.pull-right[

&lt;img src="http://tinderdistrict.com/wp-content/uploads/2018/06/complicated.gif" style="display: block; margin: auto;" /&gt;

]

--

&lt;br&gt;&lt;br&gt;

.bold.center[Many regression extensions have been developed to deal with these concerns.]

---
class: center, middle, inverse

.font300.white[Principal Component Regression]

---
# The idea

.pull-left[

PCR performs feature reduction to help minimize impact of:

- multicollinearity (becomes a bigger concern the more predictors we have)

- when `\(p &gt;&gt; n\)`

Steps:

1. Reduce *p* features to *c* PCs (not guided by the response)

2. Use PCs as predictors and perform regression as usual

]

.pull-right[

&lt;img src="images/pcr-steps.png" width="86%" height="86%" style="display: block; margin: auto;" /&gt;

]

---
# R packages 📦

&lt;br&gt;

.font130[
- Any package that implements PCA can be applied prior to modeling,

- See [multivariate task view](	https://CRAN.R-project.org/view=Multivariate
) on CRAN for options; however,...

- .bold[caret] provides and integrated `method = "pcr"` that helps to automate the tuning process
]
---
# Implementation .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 7]

.pull-left[


```r
# 1. hypergrid
hyper_grid &lt;- expand.grid(ncomp = seq(2, 40, by = 2))

# 2. PCR
set.seed(123)
cv_pcr &lt;- train(
  Sale_Price ~ ., 
  data = ames_train, 
  trControl = cv,
* method = "pcr",
* preProcess = c("zv", "center", "scale"),
* tuneGrid = hyper_grid,
  metric = "RMSE"
  )

# model with lowest RMSE
cv_pcr$bestTune
##    ncomp
## 20    40

cv_pcr$results %&gt;%
  filter(ncomp == as.numeric(cv_pcr$bestTune))
##   ncomp     RMSE  Rsquared      MAE   RMSESD RsquaredSD    MAESD
## 1    40 32213.17 0.8379086 21118.75 5805.984 0.04868926 1462.987
```

]

.pull-right[

```r
# plot cross-validated RMSE
plot(cv_pcr)
```

&lt;img src="04-linear-regression-slides_files/figure-html/pcr-plot-revised-1.png" style="display: block; margin: auto;" /&gt;

.center.bold[Feature reduction with PCR improves prediction error by ~ $10K]

]

---
# Tuning .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 8]

.scrollable90[
.pull-left[

- The number of PCs is the only hyperparameter

- rule of <span class=" faa-slow animated " style=" display: -moz-inline-stack; display: inline-block; transform: rotate(0deg);">&lt;img src="https://emojis.slackmojis.com/emojis/images/1511903783/3230/wiggle_thumbs_up.gif?1511903783" style="height:1em; width:auto; "/&gt;</span>
   - assess 2-*p* in evenly divided segments
   - start with a few and zoom in

]

.pull-right[


```r
# 1. hypergrid
p &lt;- length(ames_train) - 1
*hyper_grid &lt;- expand.grid(ncomp = seq(2, 80, length.out = 10))

# 2. PCR
set.seed(123)
cv_pcr &lt;- train(
  Sale_Price ~ ., 
  data = ames_train, 
  trControl = cv,
  method = "pcr", 
  preProcess = c("zv", "center", "scale"), 
  tuneGrid = hyper_grid, 
  metric = "RMSE"
  )

# RMSE
cv_pcr$results %&gt;%
  filter(ncomp == cv_pcr$bestTune$ncomp)
##   ncomp    RMSE  Rsquared      MAE   RMSESD RsquaredSD   MAESD
## 1    80 31498.8 0.8450051 20308.17 5942.775  0.0507097 1304.71

# plot cross-validated RMSE
plot(cv_pcr)
```

&lt;img src="04-linear-regression-slides_files/figure-html/pcr-grid-2-1.png" style="display: block; margin: auto;" /&gt;

]
]

---
class: center, middle, inverse

.font300.white[Partial Least Squares Regression]

---
# The idea

.pull-left[

- A problem with PCR is that the PCs are developed independent of the response.

- PLS 
   - has similar intentions as PCR
   
   - finds PCs that maximize correlation with the response
   
   - typically results in a stronger signal between PCs and response

]

.pull-right[

&lt;img src="images/pls-steps.png" width="94%" height="94%" style="display: block; margin: auto;" /&gt;

]

---
# The idea

.pull-left[

- A problem with PCR is that the PCs are developed independent of the response.

- PLS 
   - has similar intentions as PCR
   
   - finds PCs that maximize correlation with the response
   
   - .bold.blue[typically results in a stronger signal between PCs and response]

]

.pull-right[

&lt;img src="04-linear-regression-slides_files/figure-html/pls-vs-pcr-relationship-1.png" style="display: block; margin: auto;" /&gt;

]

---
# R packages 📦

.pull-left[

## [`pls`](https://cran.r-project.org/package=pls)

* **p**artial **l**east **s**quares

* Original and primary implementation of PLS

* Provides both PLS &amp; PCR capabilities 

]
.pull-right[

## [Other pkgs](https://CRAN.R-project.org/view=Multivariate)

* `ppls`: penalized partial least squares

* `dr`: provides various dimension reduction regression options

* `plsgenomics`: provides partial least squares analyses for genomics
    
]

---
# Implementation .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 9]

.pull-left[


```r
# PLS
set.seed(123)
cv_pls &lt;- train(
  Sale_Price ~ ., 
  data = ames_train, 
  trControl = cv,
* method = "pls",
  preProcess = c("zv", "center", "scale"),
  tuneGrid = hyper_grid,
  metric = "RMSE"
  )

# model with lowest RMSE
cv_pls$bestTune
##      ncomp
## 8 62.66667

cv_pls$results %&gt;%
  filter(ncomp == as.numeric(cv_pls$bestTune))
##      ncomp    RMSE  Rsquared      MAE   RMSESD RsquaredSD    MAESD
## 1 62.66667 28142.7 0.8750775 16323.37 8060.319  0.0664182 1427.488
```

]

.pull-right[

```r
# plot cross-validated RMSE
plot(cv_pls)
```

&lt;img src="04-linear-regression-slides_files/figure-html/pls-plot-1.png" style="display: block; margin: auto;" /&gt;

.center.bold[Using PLS improves prediction error by an additional $500]

]

---
# Tuning

- The number of PCs is the only hyperparameter

- Will almost always require less PCs than PCR

- rule of <span class=" faa-slow animated " style=" display: -moz-inline-stack; display: inline-block; transform: rotate(0deg);">&lt;img src="https://emojis.slackmojis.com/emojis/images/1511903783/3230/wiggle_thumbs_up.gif?1511903783" style="height:1em; width:auto; "/&gt;</span>
   - assess 2-*p* in evenly divided segments
   - start with a few and zoom in

---
class: center, middle, inverse

.font300.white[Model Comparison]

---
# Comparing error distributions .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 10]

.pull-left[


```r
results &lt;- resamples(list(
  OLS  = cv_model4, 
  PCR  = cv_pcr, 
  PLS  = cv_pls
  ))

summary(results)$statistics$RMSE
##         Min.  1st Qu.   Median     Mean  3rd Qu.     Max. NA's
## OLS 20272.41 22556.43 25810.57 28368.21 29749.65 55864.79    0
## PCR 24562.41 26892.00 29479.23 31498.80 34003.86 49406.53    0
## PLS 20008.20 22404.48 25721.42 28142.70 30311.02 55722.45    0
```

]

.pull-right[

```r
p1 &lt;- bwplot(results, metric = "RMSE")
p2 &lt;- dotplot(results, metric = "RMSE")
gridExtra::grid.arrange(p1, p2, nrow = 1)
```

&lt;img src="04-linear-regression-slides_files/figure-html/compare-bwplot-1.png" style="display: block; margin: auto;" /&gt;

]

.center.bold[Student's *t*-test or a rank sum test could also be used.]

---
class: center, middle, inverse

.font300.white[Feature Interpretation]

---
# Feature importance .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 11]

.pull-left[

.center.bold.font120[vip]

* .bold[v]ariable .bold[i]mportance .bold[p]lots illustrate the influence each predictor has

* many packages have their own vip plots

* the __vip__ 📦 provides a common output

* different models measure "importance" differently

* we'll review this more indepth in later modules

]

.pull-right[


```r
vip(cv_pls)
```

&lt;img src="04-linear-regression-slides_files/figure-html/pls-vip-1.png" style="display: block; margin: auto;" /&gt;

]

---
# Feature importance .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 12]

&lt;img src="04-linear-regression-slides_files/figure-html/all-vip-1.png" style="display: block; margin: auto;" /&gt;

---
# Feature effects .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 13]

.pull-left[

* feature effects measures the relationship between a feature and the target variable

* most common approach is a .bold[p]artial .bold[d]ependence .bold[p]lot

* computs the average response value when all observations use a particular value for a given feature

]

.pull-right[


```r
pdp::partial(cv_model2, pred.var = "Gr_Liv_Area", grid.resolution = 10) %&gt;% 
  autoplot()
```

&lt;img src="04-linear-regression-slides_files/figure-html/ols-pdp-1.png" style="display: block; margin: auto;" /&gt;

]

---
# Feature effects .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 14]

&lt;br&gt;&lt;br&gt;

&lt;img src="04-linear-regression-slides_files/figure-html/all-pdps, -1.png" style="display: block; margin: auto;" /&gt;

---
# Feature effects .red[<span>&lt;i class="fas  fa-hand-point-right faa-horizontal animated " style=" color:red;"&gt;&lt;/i&gt;</span> code chunk 15]

Assess the interaction of 2 predictors:


```r
pdp::partial(cv_model2, pred.var = c("Gr_Liv_Area", "Year_Built"), grid.resolution = 10) %&gt;% 
  pdp::plotPartial(levelplot = FALSE, zlab = "yhat", drape = TRUE, colorkey = TRUE, screen = list(z = -20, x = -60))
```

&lt;img src="04-linear-regression-slides_files/figure-html/interaction-pdp-1.png" style="display: block; margin: auto;" /&gt;


---
class: center, middle, inverse

.font300.white[Wrapping up]

---
# Summary

* Ordinary least squares
   - simple but lots of assumptions
   - typically poor predictive accuracy

* Principal Component Regression
   - minimizes multicollinearity
   - helps when `\(p &gt;&gt; n\)`

* Partial Least Squares
   - same benefits as PCR but
   - creates stronger signal btwn PCs and target

---
class: clear, center, middle

background-image: url(images/any-questions.jpg)
background-position: center
background-size: cover

---
# Back home

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
[.center[<span>&lt;i class="fas  fa-home fa-10x faa-FALSE animated "&gt;&lt;/i&gt;</span>]](https://github.com/misk-data-science/misk-homl)

.center[https://github.com/misk-data-science/misk-homl]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
